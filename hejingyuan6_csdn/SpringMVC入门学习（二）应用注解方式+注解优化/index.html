<div style="color:blue" align=center>SpringMVC入门学习（二）应用注解方式+注解优化</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">前篇已经介绍使用</span><span lang="en-US">SpringMVC</span><span lang="zh-CN">的方式进行环境搭建，以及一个简单的</span><span lang="en-US">demo</span><span lang="zh-CN">测试，下面我们再来介绍一下使用注解的方式，如何实现。</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">添加配置文件</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">springAnnotation-servlet.xml</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"></span></p>
<pre code_snippet_id="563826" snippet_file_name="blog_20141226_1_9302450" name="code" class="html"> &lt;!-- 注解扫描包 --&gt;
	&lt;context:component-scan base-package=&quot;com.tgb.web.controller.annotation&quot; /&gt;
	&lt;!-- 开启注解，这两种方式通用 --&gt;
		&lt;!-- &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt;
		&lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot;&gt;&lt;/bean&gt;
		 --&gt;
	 &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;
	
	&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
		&lt;property name=&quot;prefix&quot; value=&quot;/&quot;&gt;&lt;/property&gt;
		&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
	&lt;/bean&gt;
</pre><br>
<p>
<p style="margin:0in; font-size:14pt">
<p lang="en-US" style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">web.xml</span></p>
<p lang="en-US" style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p lang="en-US" style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"></span></p>
<pre code_snippet_id="563826" snippet_file_name="blog_20141226_2_6746623" name="code" class="html">&lt;servlet&gt;
  	&lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;
  	&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
  		 &lt;!-- 修改配置文件的名称和路径均可 --&gt;
  		 &lt;init-param&gt;
  			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
  			&lt;!-- &lt;param-value&gt;classpath*:config/SpringMVC-servlet.xml&lt;/param-value&gt; --&gt;
  			&lt;param-value&gt;classpath*:config/springAnnotation-servlet.xml&lt;/param-value&gt; 
  		&lt;/init-param&gt; 
  	&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
  	&lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;
  	&lt;url-pattern&gt;/&lt;/url-pattern&gt;
  	
  &lt;/servlet-mapping&gt;
  </pre>
<p>
<span style="font-family:KaiTi_GB2312"><br>
</span>
<p style="margin:0in; font-size:14pt">
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">实例测试：</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">添加</span><span lang="en-US">UserController</span><span lang="zh-CN">：</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN"><br>
</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN"></span></span></p>
<pre code_snippet_id="563826" snippet_file_name="blog_20141226_3_3691586" name="code" class="java">@Controller
public class UserController {
	/*方法的注解，value为浏览器的访问地址，method为接收方式*/
	@RequestMapping(value=&quot;/user/addUser&quot;,method=RequestMethod.GET)
	public ModelAndView addUser(){		
		String result =&quot;this is addUser------&quot;;
		/*向前台界面传值的方式---带参数的返回前台页面*/
		return new ModelAndView(&quot;/jquery&quot;,&quot;result&quot;,result);
	}
	
	@RequestMapping(value=&quot;/user/delUser&quot;,method=RequestMethod.GET)
	public ModelAndView delUser(){
		String result =&quot;this is delUser------&quot;;
		return new ModelAndView(&quot;/jquery&quot;,&quot;result&quot;,result);
	}
	@RequestMapping(value=&quot;/user/toUser&quot;,method=RequestMethod.GET)
	public ModelAndView toUser(){
		/*返回的页面*/
		return new ModelAndView(&quot;/jquery&quot;);
	}
}</pre>
<p>
<span style="font-family:KaiTi_GB2312"><br>
</span>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">Jquery.jsp</span><span lang="zh-CN">（提交方式为</span><span lang="en-US">post</span><span lang="zh-CN">，而如果此时</span><span lang="en-US">addUser</span><span lang="zh-CN">的接收方式为</span><span lang="en-US">GET</span><span lang="zh-CN">）</span><br>
</span></p>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"></span></span></p>
<pre code_snippet_id="563826" snippet_file_name="blog_20141226_4_952193" name="code" class="html">&lt;form action=&quot;/SpringMVC/user/addUser&quot; method=&quot;post&quot;&gt;
	&lt;h&gt;SpringMVC注解&lt;/h&gt;
	&lt;br/&gt;
	&lt;div&gt;
		${result }
	&lt;/div&gt;
		&lt;input type=&quot;submit&quot; value=&quot;post请求&quot;&gt;
	&lt;/form&gt;
</pre><br>
<p>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"></span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">出现以下错误：</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">访问</span><span lang="en-US">toUser</span><span lang="zh-CN">时没有问题，但是当点击按钮时，报错！</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN"><br>
</span></p>
<p style="margin:0in; font-size:14.0pt"><img src="34727028302326" alt="" style="font-size:14pt"></p>
<p style="margin:0in; font-size:14.0pt"><br>
</p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><img src="22195559342611" alt=""><br>
</span></p>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"></span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">解释：</span></p>
<p style="margin:0in; font-size:8pt; color:rgb(89,89,89)"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">当我们访问：</span><span lang="zh-CN">http://localhost:8080/SpringMVC/user/toUser</span><span lang="zh-CN">时，显示</span><span lang="en-US">jquery</span><span lang="zh-CN">页面，但是当我们点击</span><span lang="en-US">jquery</span><span lang="zh-CN">页面中的按钮时，会</span><span lang="en-US">post</span><span lang="zh-CN">提交到</span><span lang="en-US">addUser</span><span lang="zh-CN">的方法，而此时</span><span lang="en-US">addUser</span><span lang="zh-CN">的方法接收为</span><span lang="en-US">Get</span><span lang="en-US"></span><span lang="zh-CN">，故报错。正确的方式是将</span><span lang="en-US">addUser</span><span lang="zh-CN">的接收方式改为</span><span lang="en-US">POST</span></span></p>
<p lang="en-US" style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">正确方式执行过程：</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">首先访问</span><span lang="en-US">toUser</span><span lang="zh-CN">，到达</span><span lang="en-US">jquery</span><span lang="zh-CN">页面，点击</span><span lang="en-US">jquery</span><span lang="zh-CN">页面的按钮，</span><span lang="en-US">post</span><span lang="zh-CN">提交到</span><span lang="en-US">addUser</span><span lang="zh-CN">，同时将</span><span lang="en-US">addUser</span><span lang="zh-CN">中的</span><span lang="en-US">result</span><span lang="zh-CN">参数返回</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN"><br>
</span></p>
<img src="37586699336405" alt=""><br>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"></span></span></p>
<p style="margin:0in; font-size:14pt"><br>
</p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">注意：</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">前台页面直接访问的方式只支持</span><span lang="en-US">GET</span><span lang="zh-CN">方式，即当我们的</span><span lang="en-US">controller</span><span lang="zh-CN">的接收方式均为</span><span lang="en-US">GET</span><span lang="zh-CN">时，均可以在浏览器中输入相应的地址访问到相应的页面</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">例如：</span></p>
<p style="margin:0in; font-size:14pt"><br>
</p>
<p style="margin:0in; font-size:14pt"><img src="32609755999359" alt=""><br>
</p>
<span style="font-family:KaiTi_GB2312"><br>
</span>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN"></span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">因为此时</span><span lang="en-US">addUser</span><span lang="zh-CN">的接收方式为</span><span lang="en-US">GET,</span><span lang="zh-CN">但是如果我们将它的接收方式改为</span><span lang="en-US">Post</span><span lang="zh-CN">，那么则会报如下错误，因为当我们直接访问页面，那么接收方式为</span><span lang="en-US">Post</span><span lang="zh-CN">，而提交方式默认为</span><span lang="en-US">GET</span></span></p>
<br>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"><img src="19535518368084" alt=""><br>
</span></span></p>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312"></span></span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN"><br>
</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">我们想要</span><span lang="en-US">get</span><span lang="zh-CN">方法请求可以到，</span><span lang="en-US">post</span><span lang="zh-CN">方法请求也可以到</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312">不想要区分的那么清楚，直接把那个配置删掉（method=RequestMethod.GET）</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p lang="en-US" style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">Spring</span><span lang="en-US">MVC</span><span lang="zh-CN">注解优化</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">1</span><span lang="zh-CN">，对于要访问的均为同一目录下的方法时，可以这样修改</span></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">@RequestMapping(&quot;/user&quot;)</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">2</span><span lang="zh-CN">，删除掉</span><span lang="en-US">method</span><span lang="zh-CN">的配置</span><span lang="zh-CN">method=RequestMethod.GET</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">3</span><span lang="zh-CN">，返回&#20540;为</span><span lang="en-US">String</span><span lang="zh-CN">类型</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">4</span><span lang="zh-CN">，带参数使用</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312">request.setAttribute(&quot;result&quot;,result);，引入import javax.servlet.http.HttpServletRequest;</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">优化后的</span><span lang="en-US">Controller</span><span lang="en-US">:</span></span></p>
<p style="margin:0in; font-size:14.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US"><br>
</span></span></p>
<pre name="code" class="java">@Controller
@RequestMapping(&quot;/user&quot;)
public class UserController {
	
	@RequestMapping(&quot;/addUser&quot;)
	public String addUser(HttpServletRequest request){
		
		String result =&quot;this is addUser------优化版&quot;;
		request.setAttribute(&quot;result&quot;, result);
		return &quot;/jquery&quot;;
	}
	
	@RequestMapping(&quot;/delUser&quot;)
	public String delUser(HttpServletRequest request){
		String result =&quot;this is delUser------优化版&quot;;
		request.setAttribute(&quot;result&quot;, result);
		return &quot;/jquery&quot;;
	}
	@RequestMapping(&quot;/toUser&quot;)
	public String toUser(HttpServletRequest request){
		return &quot;/jquery&quot;;
	}
}
</pre><br>
<br>
<p style="margin:0in; font-size:14pt"><span lang="zh-CN"></span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312">总结：应用注解的方式使得我们不必去配置文件中写那么多映射代码，减少了开发人员的工作量。但是对于我们来说无论是注解还是配置文件的方式我们均需要了解，个人觉得配置文件的方式更容易让我们理解。</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:14pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<br>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/42177759'>原文链接</a>