<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 高速缓冲存储器地址映射</div><div style="color:blue" align=center>高速缓冲存储器地址映射</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">高速缓冲存储器</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">组成：控制部分和</span><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">存储器部分</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">存储器部分用来存放主存的部分拷贝（副本）信息。控制部分的功能是判断</span><span lang="en-US">CPU</span><span lang="zh-CN">要访问的信息是否在</span><span lang="en-US">Cache</span><span lang="zh-CN">存储器中，若在即为命中，若不在则没有命中。命中时直接对</span><span lang="en-US">Cache</span><span lang="zh-CN">存储器寻址，未命中时，要按照替换原则决定主存的一块信息放到</span><span lang="en-US">Cache</span><span lang="zh-CN">存储器的哪一块里。</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">地址映像方法</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">在</span><span lang="en-US">CPU</span><span lang="zh-CN">工作时，送出的是主存地址，而应从</span><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">存储器中读写信息。这就需要将主存地址转换成</span><span lang="en-US">Cache</span><span lang="zh-CN">存储器的地址。</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">直接映像</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16pt">
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">对于直相联来说，每个块号都限定了必须在</span><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">中的某个块号中，也就是第</span><span lang="en-US">0</span><span lang="zh-CN">区的第</span><span lang="en-US">0</span><span lang="zh-CN">块只能放在</span><span lang="en-US">Cache</span><span lang="zh-CN">的第</span><span lang="en-US">0</span><span lang="zh-CN">块中，而且块号的大小和</span><span lang="en-US">Cache</span><span lang="zh-CN">的大小相同。</span></span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">中只能存放</span><span lang="en-US">0--n</span><span lang="zh-CN">块且每块只有一个（不可能存在两个块</span><span lang="en-US">0</span><span lang="zh-CN">），如果</span><span lang="en-US">1</span><span lang="zh-CN">区</span><span lang="en-US">0</span><span lang="zh-CN">块存进</span><span lang="en-US">Cache</span><span lang="zh-CN">中的</span><span lang="en-US">0</span><span lang="zh-CN">块了，那么其他区的</span><span lang="en-US">0</span><span lang="zh-CN">块就没办法往</span><span lang="en-US">Cache</span><span lang="zh-CN">中存入了。所以已知块号就能确定区号！固只需要比较区号是否相等即可！</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="50050249622040" alt=""></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="7501707537539" alt=""><br>
</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">上图的比较过程：已知块号，查看区表存储器中的区号是否和主存中的区号相等，相等则存在即命中，否则不命中</span><span lang="en-US">.</span><span lang="zh-CN">下面的类&#20284;</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">优点：地址映象方式简单，数据访问时，只需检查区号是否相等即可，因而可以得到比较快的访问速度，硬件设备简单。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">缺点：替换操作频繁，命中率比较低。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">全相联映像</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="38474417463999" alt=""></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="32809669108720" alt=""></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">对于全相联来说，主存与</span><span lang="en-US">C</span><span lang="en-US">ahce</span><span lang="zh-CN">存储器均分成容量相同的块。允许主存中的任意一块可以调入</span><span lang="en-US">Cache</span><span lang="zh-CN">存储器中的任何一块空间中。</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">优点：命中率比较高，Cache存储空间利用率高。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">缺点：访问相关存储器时，每次都要与全部内容比较，速度低，成本高，因而应用少。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">组相联映像</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="36697236181831" alt=""></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="361301710404513" alt=""></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">对于组相联映像来说，是前面两种方式的折中，即将</span><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">中的块再分成组。规定组采用直接映像方式而块采用全相联方式。通过直接映像方式来决定组号，在组内再用全相联映像方式来决定</span><span lang="en-US">Cache</span><span lang="zh-CN">中的块号。</span></span></p>
<p style="margin:0in; font-size:16.0pt"><span style="font-family:KaiTi_GB2312"><span lang="zh-CN">这种方式，根据组号可以确定区号，根据主存给的组号确定块表中的组号是否和</span><span lang="en-US">C</span><span lang="en-US">ache</span><span lang="zh-CN">中的组号相等，相等继续比较，组内的块号（遍历全部块号看是否存在），如果组号不等则没有比较下去的意义。</span></span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">优点：块的冲突概率比较低，块的利用率大幅度提高，块失效率明显降低。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">缺点：实现难度和造价要比直接映象方式高。</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">对于这三种映像方式和前面介绍的存储方式类&#20284;（页式，段式，段页式）且每一种都是对上一种方式的优化，学习时结合以前的知识，这样掌握起来就容易很多，学会用已有的知识来学习，这样的学习效果事半功倍！</span></p>
<p style="margin:0in; font-size:16pt"><span style="font-family:KaiTi_GB2312">&nbsp;</span></p>
<p><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312"><br>
</span></p>
<p style="margin:0in; font-family:宋体; font-size:16.0pt"><br>
</p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/25303139'>原文链接</a>