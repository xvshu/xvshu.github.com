<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 项目修炼之路（6）Redis批量删除某数据库下的key</div><div style="color:blue" align=center>项目修炼之路（6）Redis批量删除某数据库下的key</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p><span style="font-size:18px">我们做测试时，一直想模拟线上第一次运行的环境，所以会涉及对某个索引下的某类key&#20540;进行删除的操作，下面给大家介绍下具体操作步骤：</span></p>
<h1><span style="font-size:18px">1，常用命令介绍</span></h1>
<div><span style="font-size:18px"><br>
</span></div>
<h2><span style="font-size:18px">&nbsp;1.1 &nbsp;redis部分</span></h2>
<div><span style="font-size:18px"><br>
</span></div>
<p><span style="font-size:18px">&nbsp;./redis-cli</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 是开启shellr客户端的命令</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">&nbsp;SELECT:&nbsp;<br>
</span></p>
<p>
<pre name="code" class="java">./redis-cli select 6 </pre><span style="font-size:18px"><br>
&nbsp; &nbsp; &nbsp; &nbsp; 表示切换到数据库6</span>
<p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">&nbsp;SET:&nbsp;</span></p>
<p>
<pre name="code" class="java">./redis-cli -n 12 set user_area_id1 101</pre>
<p>
<p><span style="font-size:18px"><br>
</span></p>
<span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 表示向数据库12中插入字符串key为user_area_id1&nbsp;，value&#20540;为101<br>
<br>
<br>
&nbsp;GET:&nbsp;</span>
<p>
<pre name="code" class="java">./redis-cli -n 12 get user_area_id1</pre><span style="font-size:18px"><br>
&nbsp; &nbsp; &nbsp; &nbsp; 表示获取数据库为12，key为user_area_id1&nbsp;的字符串，在不指定数据编号的情况下，默认连接的是0数据库，所以数据库为0时可以省略-n参数&nbsp;<br>
</span>
<p>
<p><span style="font-size:18px"><br>
</span></p>
<h2><span style="font-size:18px">1.2 &nbsp;linux部分：</span></h2>
<div><span style="font-size:18px"><br>
</span></div>
<p><span style="font-size:18px">&nbsp;xargs ：</span></p>
<p>
<pre name="code" class="java">find ~ -name ‘*.log’ -print0 | xargs -0 rm -f</pre><span style="font-size:18px"><br>
&nbsp; &nbsp; &nbsp; &nbsp; 这是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令，本命令是删除所有.log结尾的文件</span>
<p>
<p><span style="font-size:18px"><br>
</span></p>
<h1><span style="font-size:18px">2，操作</span></h1>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 2.1，操作目录到redis服务下</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 2.2，执行以下命令</span></p>
<p>
<pre name="code" class="java">./redis-cli -n 12  KEYS user_area_id*| xargs ./redis-cli -n 12 DEL </pre><span style="font-size:18px"><br>
</span>
<p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 此命令是删除12数据下key以“user_area_id”开头的缓存</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<h1><span style="font-size:18px">总结：</span></h1>
<div><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 有很多问题，困扰我们有段时间，当时看着不容易解决的问题，或者网络上不能实现的问题，一般都有如下几个方面影响这你：</span></div>
<div><span style="font-size:18px">（1），环境不同</span></div>
<div><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 你和作者环境不同，包括操作系统，jdk版本等</span></div>
<div><span style="font-size:18px">（2），前提操作不明</span></div>
<div><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 很多作者在以前博文中介绍了很多前提操作，在当下的博文中，没有赘述，操作结果不同</span></div>
<div><span style="font-size:18px">（3），用词不明</span></div>
<div><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 有些词汇是你和作者有可能产生歧义的地方，按照自己的理解去做，可能不同</span></div>
<div><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 通过这些总结实际告诉我们，难题终将解决，耐下心，让自己心如止水，就会看到自己平常不注意的细节，自然解决问题就轻松些。</span></div>
<div><span style="font-size:18px"><br>
</span></div>
<p><br>
</p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/xvshu/article/details/50696391'>原文链接</a>