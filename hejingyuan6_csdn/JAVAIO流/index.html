<div style="color:blue" align=center>JAVAIO流</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">一个流就是程序与外界通信的一条通道，它可以用来连续的传送数据项。流的本质是数据传输，根据数据传输特性将流抽象为各种类，方便更直观的进行数据操作。</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">流具有方向性，至于是输入流还是输出流则是一个相对的概念，一般以程序为参考，如果数据的流向是程序至设备，我们成为输出流，反之我们称为输入流。<br>
<br>
</span>
<h1><span style="font-family:KaiTi_GB2312; font-size:24px">流的分类</span></h1>
<span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;<br>
可以从不同的角度对流进行分类：<br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 1. 处理的数据单位不同，可分为：字符流，字节流</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 2. 数据流方向不同，可分为：输入流，输出流<br>
&nbsp; &nbsp; 3. 功能不同，可分为：节点流，处理流<br>
<br>
</span>
<h2><span style="font-family:KaiTi_GB2312; font-size:24px">处理的数据单位：</span></h2>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="38719346229874" alt=""><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<h3><span style="font-family:KaiTi_GB2312; font-size:24px">字节流（Byte Streams）:</span></h3>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
<br>
&nbsp; &nbsp; 字节流是执行基于8位字节的输入和输出，它一次读写一字节的数据。字节流是I / O的最底层流技术，因此，如果你正在阅读或写入字符数据的最佳方法是使用字符流。其他流类型是建立在字节流之上的（如Java中的InputStream、OutputStream）。<br>
<br>
</span><pre code_snippet_id="261347" snippet_file_name="blog_20140328_1_99877" name="code" class="java">import java.io.*;
public class TestFileOutputStream{
	public static void main(String[] args){
		int b=0;
		FileInputStream in=null;
		FileOutputStream out=null;
		try{
			in=new FileInputStream(&quot;e:/学习/java实例/j2se/TestFileInputStream.java&quot;);
			out=new FileOutputStream(&quot;e:/学习/java实例/j2se/TFS.java&quot;);
			while((b=in.read())!=-1){
				out.write(b);
				}
			in.close();
			out.close();
			
			}
			catch(FileNotFoundException e2){
				System.out.println(&quot;找不到指定文件&quot;);
				System.exit(-1);
			}catch(IOException e1){
				System.out.println(&quot;文件复制错误&quot;);
				System.exit(-1);
				}
			System.out.println(&quot;文件已复制&quot;);
		}
}</pre>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">将TestFileInputStream.java复制到TFS.java中</span><br>
</p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<img src="28762358234535" alt=""><br>
<br>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span>
<h3><span style="font-family:KaiTi_GB2312; font-size:24px">字符流（Character Streams）:</span></h3>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
<br>
&nbsp; &nbsp; 字符流是执行基于16位字节（即两字节）的输入和输出，它一次读写一个字符（两个字节）的数据。所有的字符流类都是从Reader、Writer两个类延伸下来的，我们可以使用FileReader、FileWriter类进行读写I/O文件</span><br>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"></span></p>
<pre code_snippet_id="261347" snippet_file_name="blog_20140328_2_8071582" name="code" class="java">import java.io.*;
public class TestFileReader{
	public static void main(String[] args){
		FileReader fr=null;
		int c=0;
		try{
			fr=new FileReader(&quot;e:/学习/java实例/j2se/TestFileInputStream.java&quot;);
			int ln=0;
			while((c=fr.read())!=-1){
				System.out.print((char)c);
				}
			fr.close();
			
			}
			catch(FileNotFoundException e){
				System.out.println(&quot;找不到指定文件&quot;);
			}catch(IOException e){
				System.out.println(&quot;文件读取错误&quot;);
				}
		}
}
</pre><br>
<img src="190812210188537" alt=""><br>
<p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<h2><span style="font-family:KaiTi_GB2312; font-size:24px">功能分类：</span></h2>
<p><br>
</p>
<p><br>
</p>
<h3><span style="font-family:KaiTi_GB2312; font-size:24px">节点流：</span></h3>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 节点流从一个特定的数据源读写数据。即节点流是直接操作文件，网络等的流，例如FileInputStream和FileOutputStream，他们直接从文件中读取或往文件中写入字节流。</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="14655399103680" alt=""><br>
</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span>
<h3><span style="font-family:KaiTi_GB2312; font-size:24px">处理流：</span></h3>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp;“连接”在已存在的流（节点流或处理流）之上通过对数据的处理为程序提供更为强大的读写功能。过滤流是使用一个已经存在的输入流或输出流连接创建的，过滤流就是对节点流进行一系列的包装。例如BufferedInputStream和BufferedOutputStream，使用已经存在的节点流来构造，提供带缓冲的读写，提高了读写的效率，以及DataInputStream和DataOutputStream，使用已经存在的节点流来构造，提供了读写Java中的基本数据类型的功能。他们都属于过滤流。</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="15369828650693" alt=""></span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"></span></p>
<pre code_snippet_id="261347" snippet_file_name="blog_20140328_3_7580431" name="code" class="java">import java.io.*;
public class TestBufferStream1{
	public static void main(String[] args){
		try{
			FileInputStream fis=new FileInputStream(&quot;e:/学习/java实例/j2se/TestFileInputStream.java&quot;);
			BufferedInputStream bis=new BufferedInputStream(fis);
			int c=0;
			System.out.println(bis.read());
			bis.mark(100);
			for(int i=0;i&lt;=10 &amp;&amp; (c=bis.read())!=-1;i++){
				System.out.print(c+&quot; &quot;);
				}
			System.out.println();
			bis.reset();
			for(int i=0;i&lt;=10 &amp;&amp; (c=bis.read())!=-1;i++){
				System.out.print(c+&quot; &quot;);
				}
			bis.close();
			
			}
			catch(IOException e){
				e.printStackTrace();
				}
	}
}
</pre><br>
<br>
<p>
<span style="font-family:KaiTi_GB2312; font-size:24px"><img src="7571295433800" alt=""><br>
<br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<h4><span style="font-family:KaiTi_GB2312; font-size:24px">Buffered缓冲流：</span></h4>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">BufferedInputStream，BufferedOutputStream，BufferedReader,BufferedWriter,是带缓冲区的处理流。</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">缓冲流的作用：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 避免每次跟磁盘打交道，提高数据的访问效率。（提高流的操作率），所以在缓冲区之前必须要有流对象。</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">利用缓冲区技术字符流读取操作。（BufferedReader）</span><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;步骤：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">1，定义流对象与被读取文件相关联FileReader fr=new FileReader(&quot;f:\\1.txt&quot;);</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">2，</span><span style="font-family:KaiTi_GB2312; font-size:24px">定义缓冲区，把流对象作为参数放进缓冲区：</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">BufferedReader br=new BufferedReader(fr);<br>
3，利用while循环,一行一行的读取（br.readLine();此处返回类型是一个String,如果返回为null说明已读取到末尾处）<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String &nbsp;len=null;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while((len=br.readLine())!=null){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(&quot;读出了：&quot;&#43;len);<br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">}</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">4，最后关闭资源。</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;<br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">readLine原理：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 无论是读一行，获取多个字符，最终都是从硬盘上一个一个的读取，都是使用read方法中一次读取一个字符的方法。readLine中封装了数组，每读一个就放在缓冲区中（不立即返回），当读到\r\n时，表示读取一行结束，因此此时就返回一行数据。</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<h1><span style="font-family:KaiTi_GB2312; font-size:24px">总结：</span></h1>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp; &nbsp; 流是一个很形象的概念，当程序需要读取数据的时候，就会开启一个通向数据源的流，这个数据源可以是文件，内存，或是网络连接。类&#20284;的，当程序需要写入数据的时候，就会开启一个通向目的地的流。<br>
</span></p>
<p><br>
</p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/22188911'>原文链接</a>