<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 【NoSql】Redis实践篇简单demo实现（一）</div><div style="color:blue" align=center>【NoSql】Redis实践篇简单demo实现（一）</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">
<p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp; &nbsp; &nbsp;Redis是一个key-value存储系统。Redis的出现，很大程度补偿了memcached这类key/value存储的不足，在部分场合可以对关系数据库起到很好的补充作用</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp; &nbsp; &nbsp;Redis是一个key-value存储系统。和Memcached类似，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sortedset--有序集合)和hash（哈希类型）。这些数据类型支持push/pop、add/remove及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。在此基础上，redis支持各种不同方式的排序。与memcached一样，为了保证效率，数据都是缓存在内存中。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave（主从复制）。</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">Memcache</span><span lang="zh-CN">与</span><span lang="en-US">Redis</span><span lang="zh-CN">区别</span></span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">Memcache</span><span lang="zh-CN">提供的数据类型少，只有键值对，</span><span lang="en-US">Redis</span><span lang="zh-CN">提供的数据类型相对较多</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">Memcache</span><span lang="zh-CN">关机就没了，数据全部存到内存当中，但是没有提供故障恢复，</span><span lang="en-US">Redis</span><span lang="zh-CN">可以将数据存储到磁盘中</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">redis</span><span lang="zh-CN">提供主从复制，</span><span lang="en-US">Memcache</span><span lang="zh-CN">无</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">Memcache</span><span lang="zh-CN">是多线程的（使用协议解决的），</span><span lang="en-US">redis</span><span lang="zh-CN">是单线程</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span><span style="font-family: KaiTi_GB2312; font-size: 14pt;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">Windows下Redis的安装使用</span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;">1<span lang="zh-CN">，安装</span><span lang="en-US">Redis</span></span></h2><p style="margin: 0in; font-size: 14pt;" lang="en-US"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">官方下载：<a target="_blank" target="_blank" href="http://redis.io/download">http://redis.io/download</a>可以根据需要下载不同版本</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">windows版：<a target="_blank" target="_blank" href="http://flychao88.iteye.com/blog/1527163">https://github.com/mythz/redis-windows</a></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">下载完成后 可以右键解压到 某个硬盘下比如E:\redis64-2.6。</span></p><p style="margin: 0in; font-size: 14pt;" lang="en-US"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">2</span><span lang="zh-CN">，启动Redis</span></span></h2><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">进入redis目录后 开启服务&nbsp; （注意加上redis.conf）</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">redis-server.exe redis.conf </span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">这个窗口要保持开启&nbsp; 关闭时redis服务会自动关闭</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><img src="28713107113143" alt=""><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">注</span><span lang="en-US">:</span><span lang="zh-CN">redis会自动保存数据到硬盘 所以如果是第二次开启时 多了一个 DB loaded from disk </span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">3</span><span lang="zh-CN">，测试使用</span></span></h2><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">另外开启一个命令行窗口 进入redis目录下（注意修改自己的ip）</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">redis-cli.exe&nbsp;-h&nbsp;192.168.</span><span lang="en-US">24</span><span lang="zh-CN">.</span><span lang="en-US">215</span><span lang="zh-CN">&nbsp;-p&nbsp;6379&nbsp;</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><span style="font-family:KaiTi_GB2312;"><img src="37767597791736" alt=""><br></span><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><h2 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">4</span><span lang="zh-CN">，利用JAVA操作Redis</span></span></h2><p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"></span></span></p><pre name="code" class="java">import org.junit.After;  
import org.junit.Before;  
import org.junit.Test;  
import redis.clients.jedis.Jedis;  
import redis.clients.jedis.JedisPool;  
import redis.clients.jedis.JedisPoolConfig;  
  
import javax.sound.midi.Soundbank;  
import java.util.*;  
    
public class RedisTest {  
    JedisPool pool;  
    Jedis jedis;  
    @Before  
    public void setUp() {  
        pool = new JedisPool(new JedisPoolConfig(), &quot;192.168.24.215&quot;);  
  
        jedis = pool.getResource();  
       /*  jedis.auth(&quot;password&quot;);  */
    }  
  
    /** 
     * Redis存储初级的字符串 
     * CRUD 
     */  
    @Test  
    public void testBasicString(){  
        //-----添加数据----------  
        jedis.set(&quot;name&quot;,&quot;hejingyuan&quot;);//向key--&gt;name中放入了value--&gt;hejingyuan  
        System.out.println(jedis.get(&quot;name&quot;));//执行结果：hejingyuan  
  
        //-----修改数据-----------  
        //1、在原来基础上修改  
        jedis.append(&quot;name&quot;,&quot;xvshu&quot;);   //很直观，类似map 将xvshu append到已经有的value之后  
        System.out.println(jedis.get(&quot;name&quot;));//执行结果:hejingyuanxvshu  
  
        //2、直接覆盖原来的数据  
        jedis.set(&quot;name&quot;,&quot;何静媛&quot;);  
        System.out.println(jedis.get(&quot;name&quot;));//执行结果：何静媛  
  
        //删除key对应的记录  
        jedis.del(&quot;name&quot;);  
        System.out.println(jedis.get(&quot;name&quot;));//执行结果：null  
  
        /** 
         * mset相当于 
         * jedis.set(&quot;name&quot;,&quot;hejingyuan&quot;); 
         * jedis.set(&quot;xvshu&quot;,&quot;何静媛&quot;); 
         */  
        jedis.mset(&quot;name&quot;,&quot;hejingyuan&quot;,&quot;xvshu&quot;,&quot;何静媛&quot;);  
        System.out.println(jedis.mget(&quot;name&quot;,&quot;xvshu&quot;));  
  
    } 

}
</pre><br><br><p><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">输出结果：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">hejingyuan</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">hejingyuanxvshu</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">何静媛</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">null</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">[hejingyuan, 何静媛]</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">结束语：</span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">&nbsp; &nbsp; &nbsp;在操作过程中，</span><span lang="en-US">R</span></span><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;">edis通过快照（snapshotting）方式默认保存到硬盘中，Redis默认会将快照文件存储在当前目录(可CONFIG GETdir来查看)的dump.rdb文件中，可以通过配置dir和dbfilename两个参数分别指定快照文件的存储路径和文件名。</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">在我们操作</span><span lang="en-US">Redis</span><span lang="zh-CN">过程中，它也在不断的向硬盘中存储</span></span></p><p style="margin:0in;font-size:14.0pt"><span lang="zh-CN"><br></span></p><img src="48926117394907" alt=""><br><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"><img src="28776788065023" alt=""><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">java</span><span lang="zh-CN">操作</span><span lang="en-US">Redis</span><span lang="zh-CN">的各种测试：<a target="_blank" target="_blank" href="http://flychao88.iteye.com/blog/1527163">http://flychao88.iteye.com/blog/1527163</a></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><br><p style="margin: 0in; font-size: 14pt;"><span lang="zh-CN"><span style="font-family:KaiTi_GB2312;"><br></span></span></p><br>   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/47602559'>原文链接</a>