<div style="color:blue" align=center>WebService学习CXF开发WebService实例demo（一）</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">
<p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">Web</span><span lang="en-US"> Service</span><span lang="zh-CN">是什么？</span></span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in 0in 0in 0.375in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">&nbsp;Web</span><span lang="en-US"> Service</span><span lang="zh-CN">不是框架，更甚至不是一种技术。而是一种跨平台，跨语言的规范</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">Web</span><span lang="en-US"> Service</span><span lang="zh-CN">解决什么问题：</span></span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">&nbsp; &nbsp; 为了解决不同平台，不同语言所编写的应用之间如何调用问题。例如，有一个</span><span lang="en-US">C</span><span lang="zh-CN">语言写的程序，它想去调用</span><span lang="en-US">java</span><span lang="zh-CN">语言写的某个方法。</span></span></p><p style="margin: 0in 0in 0in 0.375in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">集中解决：</span><span lang="en-US">1</span><span lang="zh-CN">，远程调用</span><span lang="en-US"> 2</span><span lang="zh-CN">，跨平台调用</span><span lang="en-US"> 3</span><span lang="zh-CN">，跨语言调用</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">实际应用：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">1</span><span lang="zh-CN">，同一个公司的新，旧系统的整合。</span><span lang="en-US">Linux</span><span lang="zh-CN">上的</span><span lang="en-US">java</span><span lang="zh-CN">应用，去调用</span><span lang="en-US">windows</span><span lang="zh-CN">平台的</span><span lang="en-US">C</span><span lang="zh-CN">应用</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">2</span><span lang="zh-CN">，不同公司的业务整合。业务整合就带来不同公司的系统整合，不同公司的系统可能存在平台不同，语言不同的问题</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">3</span><span lang="zh-CN">，内容聚合。一个应用，比如需要提供，天气预报，股票行情，黄金行情等。</span></span></p><p style="margin: 0in 0in 0in 0.75in; font-size: 14pt;" lang="en-US"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">CXF与Web</span><span lang="en-US"> Service</span><span lang="zh-CN">的关系</span></span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp; &nbsp; CXF是apache旗下的开源框架，由Celtix+ XFire这两门经典的框架合成，是一套非常流行的web service框架。</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">CXF方式实现Web</span><span lang="en-US"> Service</span><span lang="zh-CN">服务</span><span lang="en-US">demo</span></span></h1><p style="margin: 0in; font-size: 14pt;" lang="en-US"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">1</span><span lang="zh-CN">，配置环境变量</span></span></h2><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">在CLASSPATH中添加E:\apache-cxf-2.6.2\lib</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">新建CXF_HOMEE:\apache-cxf-2.6.2</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">在PATH中添加 %CXF_HOME%\bin</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><img src="39255439061006" alt=""><br></span></p><p style="margin: 0in; font-size: 14pt;"><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US"><br></span></span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">2</span><span lang="zh-CN">，使用</span><span lang="en-US">CXF</span><span lang="zh-CN">开发</span><span lang="en-US">Web</span><span lang="en-US"> Service</span><span lang="zh-CN">开发服务器端</span></span></h2><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">整个项目的目录结构（普通</span><span lang="en-US">java</span><span lang="zh-CN">项目）：</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><img src="50264125418712" alt=""><br></span></span></p><span style="font-family:KaiTi_GB2312;"><br></span><p style="margin: 0in; font-size: 14pt;"><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">接口：</span></p><span style="font-family:KaiTi_GB2312;"></span><pre name="code" class="java">package com.tgb.service;

import javax.jws.WebService;


@WebService
public interface HelloWorld{
	
	public String sayHi(String name);
	
}</pre><br><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">实现类：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"></span></p><pre name="code" class="java">package com.tgb.service.impl;

import java.util.Date;

import javax.jws.WebService;

import com.tgb.service.HelloWorld;

@WebService(endpointInterface=&quot;com.tgb.service.HelloWorld&quot;,serviceName=&quot;HelloWorldImpl&quot;)
public class HelloWorldImpl implements HelloWorld{

	public String sayHi(String name) {
			
		return name+&quot;您好！现在时间为：&quot;+new Date();
	}

	
}</pre><p><p><br></p><p style="margin: 0in; font-size: 14pt;"><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">测试客户端：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"></span></p><pre name="code" class="java">package com.tgb.client;

import javax.xml.ws.Endpoint;

import com.tgb.service.HelloWorld;
import com.tgb.service.impl.HelloWorldImpl;

public class ServerMain {

	public static void main(String[] args){
		
		HelloWorld hw=new HelloWorldImpl();
		//调用endpoint的publish方法，来发布web service
		Endpoint.publish(&quot;http://192.168.24.215/hjy&quot;,hw);
		System.out.println(&quot;Web Service暴露成功&quot;);
	}
}</pre><span style="font-family:KaiTi_GB2312;"><br></span><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">启动程序：<br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><img src="5405748605215" alt=""><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">查看</span><span lang="en-US">wsdl</span><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US"><img src="35498567606467" alt=""><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;"></span></span></p><h2 style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">3</span><span lang="zh-CN">，使用</span><span lang="zh-CN">CXF</span><span lang="zh-CN">开发</span><span lang="zh-CN">WebService</span><span lang="zh-CN">客户端</span></span></h2><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">执行如下命令（找到</span><span lang="en-US">webService</span><span lang="zh-CN">的客户端的工作空间执行）</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><img src="37170105463530" alt=""><br></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><span style="font-family:KaiTi_GB2312;"><br></span><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;">刷新客户端项目，可看到如下生成的代码：<br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;"><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;"><img src="444516010223585" alt=""><br></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><span lang="en-US"></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">编写客户端调用代码：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;"><br></span></p><pre name="code" class="java">package hjy;

import com.tgb.service.HelloWorld;
import com.tgb.service.impl.HelloWorldImpl;

public class ClientMain {

	public static void main(String[] args){
		HelloWorldImpl factory=new HelloWorldImpl();
		//此处返回的只是远程Web Service的代理
		HelloWorld hw=factory.getHelloWorldImplPort();
		System.out.println(hw.sayHi(&quot;hejingyuan&quot;));
	}
}
</pre><br><p style="margin: 0in; font-size: 14pt;"><span lang="en-US"><span style="font-family:KaiTi_GB2312;"></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">执行结果：</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">hejingyuan您好！现在时间为：TueJul 28 14:09:07 CST 2015</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><h1 style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">总结：</span></h1><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">使用</span><span lang="en-US">CXF</span><span lang="zh-CN">开发Web</span><span lang="en-US"> </span><span lang="zh-CN">Service共有如下几个步骤：</span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">1</span><span lang="zh-CN">，服务器端</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">1</span><span lang="zh-CN">）开发一个Web</span><span lang="en-US"> </span><span lang="zh-CN">Service业务接口。该接口要用@WebService修饰</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">2</span><span lang="zh-CN">）开发一个Web</span><span lang="en-US"> </span><span lang="zh-CN">Service业务实现类。该实现类也需要用@WebService修饰</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">3</span><span lang="zh-CN">）发布Web</span><span lang="en-US"> </span><span lang="zh-CN">Service</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">2</span><span lang="zh-CN">，客户端</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">1</span><span lang="zh-CN">）调用</span><span lang="en-US">CXF</span><span lang="zh-CN">提供的</span><span lang="en-US">wsdl</span><span lang="en-US">2java</span><span lang="zh-CN">工具，根据</span><span lang="en-US">WSDL</span><span lang="zh-CN">文档生成相应的</span><span lang="en-US">java</span><span lang="zh-CN">代码。</span></span></p><p style="margin:0in;margin-left:.75in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="en-US">WSDL-</span><span lang="zh-CN">Web</span><span lang="en-US"> </span><span lang="zh-CN">Service</span><span lang="en-US"> Definition</span><span lang="en-US"> Language</span></span></p><p style="margin:0in;margin-left:.75in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">任何语言实现了Web</span><span lang="en-US"> </span><span lang="zh-CN">Service，都需要提供，并暴露</span><span lang="en-US">WSDL</span><span lang="zh-CN">文档</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">2</span><span lang="zh-CN">）找到</span><span lang="en-US">wsdl</span><span lang="en-US">2java</span><span lang="zh-CN">所生成类中，一个继承了</span><span lang="en-US">Service</span><span lang="zh-CN">的类</span></span></p><p style="margin: 0in 0in 0in 0.75in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">该类的实例可当成工厂来使用</span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN">（</span><span lang="en-US">3</span><span lang="zh-CN">）调用</span><span lang="en-US">Service</span><span lang="zh-CN">子类的实例的</span><span lang="en-US">get</span><span lang="en-US">XxxPort</span><span lang="zh-CN">方法，返回远程Web</span><span lang="en-US"> </span><span lang="zh-CN">Service的代理</span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><br></span></span></p><p style="margin:0in;font-size:14.0pt"><span style="font-family:KaiTi_GB2312;"><span lang="zh-CN"><a target="_blank" target="_blank" href="http://download.csdn.net/detail/hejingyuan6/8945647">源码下载</a></span></span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><p style="margin: 0in; font-size: 14pt;"><span style="font-family:KaiTi_GB2312;">&nbsp;</span></p><span style="font-family:KaiTi_GB2312;"><br></span><p style="margin:0in;font-family:宋体;font-size:14.0pt"><br></p>   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/47104759'>原文链接</a>