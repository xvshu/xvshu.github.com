<div style="color:blue" align=center>【SSH基础】浅谈Hibernate映射</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp; 在我们没有学习</span><span lang="en-US" style="font-family:Calibri">Hibernate</span><span lang="zh-CN" style="font-family:华文中宋">的时候，当我们建立数据库的表时，首先是数据库建模E-R图，然后再通过实体模型来建立关系模型，再建立相应的数据库表。实体间存在三种关系，一对一，一对多（多对一），多对多。而现在我们要根据类来映射相应的表，那只能是通过类与类之间的关系加上映射文件来映射数据库的表。</span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp; 学习UML建模时我们知道，类与类之间存在五种关系，继承，实现，关联，依赖，聚合/组合，在hibernate中实体类之间的关系也是如此，下图为</span><span lang="en-US" style="font-family:Calibri">Hibernate</span><span lang="zh-CN" style="font-family:华文中宋">的映射分类。</span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="5923126766790" alt=""></span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋"></span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp;<span style="color:#cc0000">当然以上的关系还可以细分，例如，基本类与集合均为单个类的映射，而关系，继承，组件的映射都是多个类之间的关系，而且继承也属于关系映射，父类与子类，一个父类可以被多个子类继承，一个子类可以继承多个父类。对于这</span></span><span style="color:#cc0000"><span lang="en-US" style="font-family:Calibri">5</span><span lang="zh-CN" style="font-family:华文中宋">类映射关系是我们大家常见，容易理解的，并在我们的可接受范围内，故并没有贴上关系图，下面根据这</span><span lang="en-US" style="font-family:Calibri">5</span><span lang="zh-CN" style="font-family:华文中宋">类关系逐一进行介绍。</span></span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">下面简单介绍基本映射</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">对象：</p>
<br>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp;&nbsp;<img src="33352417488750" alt=""><br>
</span></p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋"></span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">关系表：</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt">&nbsp;t_user</p>
<div style="direction:ltr">&nbsp;
<table border="1" cellpadding="0" cellspacing="0" valign="top" style="direction:ltr; border-collapse:collapse; border-style:solid; border-color:#A3A3A3; border-width:1pt; margin-left:.3333in">
<tbody>
<tr>
<td style="border-style:solid; border-color:#A3A3A3; border-width:1pt; vertical-align:top; width:.6673in; padding:4pt 4pt 4pt 4pt">
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt">id</p>
</td>
<td style="border-style:solid; border-color:#A3A3A3; border-width:1pt; vertical-align:top; width:.7166in; padding:4pt 4pt 4pt 4pt">
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt">name</p>
</td>
</tr>
<tr>
<td style="border-style:solid; border-color:#A3A3A3; border-width:1pt; vertical-align:top; width:.6673in; padding:4pt 4pt 4pt 4pt">
<p lang="en-US" style="margin:0in; font-family:Calibri; font-size:14.0pt">1</p>
</td>
<td style="border-style:solid; border-color:#A3A3A3; border-width:1pt; vertical-align:top; width:.7166in; padding:4pt 4pt 4pt 4pt">
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">张三</p>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin:0in; line-height:19pt; font-family:华文中宋; font-size:10.5pt"><span style="">&nbsp;</span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">实体类：</p>
<pre code_snippet_id="448239" snippet_file_name="blog_20140812_1_6029154" name="code" class="java">package com.bjpowernode.hibernate;

import java.util.Date;

public class User {

	private String id;
	private String name;
	
	public String getId() {
		return id;
	}
	public void setId(String id) {
		this.id = id;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}

}
</pre><br>
<p style="margin:0in; line-height:19pt; font-family:华文中宋; font-size:14.0pt">User.hbm.xml</p>
<pre code_snippet_id="448239" snippet_file_name="blog_20140812_2_8821599" name="code" class="html">&lt;!-- 映射文件的根节点 --&gt;  
&lt;hibernate-mapping package=&quot;com.bjpowernode.hibernate&quot;&gt;  
    &lt;!--  
        对象关系映射的开始：class元素表示类和数据库中的表的映射关系。  
        name属性指定持久化类（或者接口）的Java全限定名；  
        table属性指定要映射的对应的数据库表名，如果省略，则以name作为表名  
     --&gt;  
  
    &lt;class name=&quot;User&quot; table=&quot;t_user&quot;&gt;  
     &lt;!--  
        持久化类对象的对象标识符(OID)和表的主键的映射关联：  
        name属性指定类中作为OID的属性名；  
        column属性表中主键字段的名字；如果省略，则以name作为字段名  
      --&gt;  
      
        &lt;id name=&quot;id&quot; column=&quot;id&quot;&gt;  
            &lt;!-- 指定对象标识符生成器：class属性指定生成器的类别名 --&gt;  
            &lt;generator class=&quot;native&quot; /&gt;  
        &lt;/id&gt;  
        &lt;!--   
            普通属性的映射：  
            name属性：属性的名字,以小写字母开头；  
            column属性：对应的数据库字段名.如果省略，则以name作为字段名  
            type属性：指定Hibernate的映射类型、如果省略，则自动匹配  
        --&gt;  
        &lt;property name=&quot;name&quot; column=&quot;user_name&quot; type=&quot;string&quot;/&gt;         
    &lt;/class&gt;  
  
&lt;/hibernate-mapping&gt;
</pre>
<p style="margin:0in; font-size:14.0pt"><br>
</p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋"></span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">总结：</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p style="margin:0in; font-size:14.0pt"><span lang="zh-CN" style="font-family:华文中宋">&nbsp; &nbsp; &nbsp; &nbsp;Hibernate的本质就是对象关系映射（Object</span><span lang="en-US" style="font-family:Calibri"></span><span lang="zh-CN" style="font-family:华文中宋">RelationalMapping），ORM实现了将对象数据保存到数据库中，以前我们对关系表进行操作，执行增删改查等任务，现在我们不再对关系表进行操作，而是直接对对象操作，使开发更对象化了。</span></p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp; &nbsp; &nbsp; &nbsp;其中hibernate中的ORM映射文件通常以.hbm.xml作为后缀。使用这个映射文件不仅易读，而且可以手工修改，便于我们程序的后期维护！</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">&nbsp;</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt">下篇继续！</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt"><br>
</p>
<p style="margin:0in; font-family:华文中宋; font-size:14.0pt"><br>
</p>
<br>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/38316801'>原文链接</a>