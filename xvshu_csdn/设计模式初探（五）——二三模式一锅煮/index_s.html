<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 设计模式初探（五）——二三模式一锅煮</div><div style="color:blue" align=center>设计模式初探（五）——二三模式一锅煮</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">说东汉末年，有三个不法分子，拉杆扯旗，要争夺天下仅有的一个皇帝宝座（<strong><span style="color:#548dd4">单例模式</span></strong>），其中一个叫刘备的人在一个叫桃园的地方和关羽张飞拜了把子，组团开始抢地盘（<span style="color:#548dd4">组合模式</span>），有天夜里几个人一合计“听说这年头抢地盘都得有个军师，改天咱们哥几个也找个人吧。”其他二人一直同意，刘关张三人开始走遍大江南北找“军师”。</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">就在这一天，刘关张三人来到了一个叫“卧龙岗”的地方，听说一个叫诸葛亮的人挺厉害，哥几个兴高采烈去找此人，但是今天好不巧啊，人不在，哥几个只好让书童代他们表达自己的意思“若先生肯入伙，黄金大大滴有！”（<span style="color:#548dd4">代理模式</span>），如此三次，刘关张三人才见到传说中的“亮”！刘备让二弟和三弟在门外把风，自己和亮在屋里密谋大计！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">亮说，想抢地盘，必须得这样，然后这样，最后就有三分之一的地盘是你的了！（<span style="color:#548dd4">建造者模式</span>）刘和亮谈完话。两人勾肩搭背回到自己地盘，刘备说“以后亮就是咱们的军师，让它发号施令吧”，亮在一盘偷这乐了！亮说“张飞啊！你最能干，你去训练新兵吧”实际亮心里想“让你偷我的饼干吃！看你怎么办！我不管你怎么弄，最后我只要结果，哈哈”（<span style="color:#548dd4">简单工厂模式</span>）</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">到了第二天，关羽去找张飞喝酒，看见张飞在那皱着眉头，知道他在为练兵的事发愁，两人开出在一起合计起来，关羽说“三弟啊！这新兵刚来，你得非开对待啊，有以前务农的，以前盖房的，以前打铁的等等，你得逐个击破啊（<span style="color:#548dd4">工厂方法模式</span>）好好想想怎么弄啊！“</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">几日过后，亮来视察，夸奖张飞”飞弟弟啊！不错嘛，新兵来自五湖四海，但是现在我只看见两种兵，步兵和骑兵！（<span style="color:#548dd4">抽象工厂模式</span>）不错不错…………诶……诶！你怎么又偷吃我的饼干！站住……“</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">又到了一年春天，刘备在院子里正叹气啊，亮来到身边问起，备说”有一个叫曹操的小子，仗着自己是高富帅，在北方的地盘那个大啊！让人羡慕啊，该满足了吧，谁知道人家惦记起咱们的地盘了呢！哎，愁啊……“亮笑笑，摸着胡子说”咱们东边有个叫孙权的孩子，打小和曹操有仇，咱们联合他吧“备觉得好极了，亮带着备的诚意直奔东吴！（<span style="color:#548dd4">桥接模式</span>）临走时留给备三个锦囊，并说遇到不能过去的砍再打开（<span style="color:#548dd4">策略模式</span>）！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">先放下刘关张，单说说曹操，这个高富帅领着八十万大军直奔南方准备去抢地盘，结果到了地界发现自己好吃亏啊！人家这都是大江大河，咱们北方没打过这种仗啊！曹口出狂言“接口不对啊！”这时有个神仙姐姐托梦给曹，让他将船连成一片打造新世纪航母！（<span style="color:#548dd4">适配器模式</span>）曹醒后大笑！！！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">第二天，曹画了图纸，让所有的船三个一组，结成新世纪航母（<span style="color:#548dd4">模版模式</span>），曹操规定，大军用船期间，船只在“起航”，“停泊”，“航行”三个状态下进行不同的组合！（<span style="color:#548dd4">状态模式</span>），并组织先头部队深入敌营打探情况，回来报告给所有将军！共同研究对策！（<span style="color:#548dd4">观察者模式</span>）曹军士气大增，大有抢光地盘的势头！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">再回到蜀国，说道亮出使吴国，舌战群雄，最终达成一致对外的协议（<span style="color:#548dd4">外观模式</span>），协议如下：吴蜀联盟集团下设吴国，蜀国！吴国出人，出船，蜀国负责拉外援，借东风，借箭！（<span style="color:#548dd4">职责链模式</span>）！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">话说亮接到借箭的任务后很郁闷，三十万只箭啊！愁死亮了啊！亮一遍惆怅，一边邀请吴国一个叫鲁肃的参谋一起喝酒，他们商量好找时间一起乘船去江边散心，量出主意，为了增加诗意，船上用草人装饰。所有船都蒙上草皮（<span style="color:#548dd4">装饰者模式</span>），大家心里都明白，亮有阴谋，但是都在猜测，亮怕自己的阴谋泄露，每天晚上逐个点查自己的亲信（<span style="color:#548dd4">迭代器模式</span>）</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">到了去江边那一天，亮在船头发号施令“米苗苗，都铎”！又说了一句“呼呼呀，可乐”众人一头雾水，只有他的亲信听得懂，因为亮说的是密语，得进过密码翻译才能成功！（<span style="color:#548dd4">解释器模式</span>）并制成密码本，拓印至军中（<span style="color:#558ed5">原型模式</span>）而且他们都已经商量好，亮发布命令，士兵甲传递命令，士兵乙保存命令密码，其他士兵执行命令！（<span style="color:#558ed5">命令模式</span>），众人都不知道亮的阴谋！都在猜测……亮说我会根据当时访问船的人得多少，决定船怎么走，大家注意我的口令啊！（访问者模式）</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">船到了江心，亮命人擂鼓，呐喊，引来曹操大军，曹见江中有雾，害怕是埋伏，只准射箭！亮见曹操这样大喜啊！亮发布命令，同一时刻，每条船保证只有没有被射到箭的地方朝向大军，只有一条船擂鼓就行！（<span style="color:#558ed5">享元模式</span>）</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">曹操思考一会觉得不对，正要整军出击，突然，天空一片黑暗……</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:14px"><span lang="EN-US"><span><span style="font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:宋体">只听到有人喊道“停电了，没保存记录啊，还得重新玩，悲哀啊……”（<span style="color:#558ed5">备忘录模式</span>）</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Calibri; font-size:14px">&nbsp;</span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
<p class="MsoNormal" style="margin:0cm 0cm 0pt; text-indent:42pt"><span style="font-size:14px"><span style="font-family:宋体">本故事纯属虚构！如若和某位大神的文章重叠，纯属巧合！故事和模式有些配合地很生硬，请大家斧正！</span><span lang="EN-US"></span></span></p>
<p><span style="font-family:宋体; font-size:14px"></span></p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/xvshu/article/details/8448827'>原文链接</a>