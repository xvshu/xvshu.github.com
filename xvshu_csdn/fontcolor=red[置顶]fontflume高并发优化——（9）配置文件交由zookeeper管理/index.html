<div style="color:blue" align=center>fontcolor=red[置顶]fontflume高并发优化——（9）配置文件交由zookeeper管理</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">
<p><span style="font-size:18px;">&nbsp; &nbsp; &nbsp; &nbsp; 我们都希望，配置文件是从一个服务引出，然后客户端监听服务端变化，实时重启自身加载最新配置，这样，我们就不用维护每个独立的客户端配置，更新也变得非常简单，而flume，显然意识到了这一个巨大的实惠，他是支持配置文件交由zookeeper维护的，这样我们在修改配置时，flume会自动重新加载。</span></p><p><span style="font-size:18px;"><br></span></p><h1><span style="font-size:18px;">1，zookeeper 添加节点</span></h1><p><span style="font-size:18px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;我们利用博客《<a target="_blank" href="http://blog.csdn.net/xvshu/article/details/51735974" target="_blank">使用zkweb维护zookeeper数据</a>》中介绍的软件，编辑某一个随意路径，用于盛放我们的配置，路径如下：</span></p><p><span style="font-size:18px;"><br></span></p><p><span style="font-size:18px;"><img src="7614038860725" alt=""><br></span></p><p><span style="font-size:18px;"><br></span></p><h1><span style="font-size:18px;">2，flume 配置zk端</span></h1><p><span style="font-size:18px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;利用博客《<a target="_blank" href="http://blog.csdn.net/xvshu/article/details/51792668" target="_blank">linux 安装supervise服务</a>》，我们配置其启动命令</span></p><p><pre code_snippet_id="1777933" snippet_file_name="blog_20160722_1_9561590" name="code" class="html"><span style="font-size:18px;">#!/bin/bash
cd /export/home/flume/
bin/flume-ng agent --conf conf -z 192.168.10.83:2181 -p /flume/example  -name agent1 -Dflume.root.logger=INFO,console</span></pre><span style="font-size:18px;"><br></span></p><h1><span style="font-size:18px;">总结：</span></h1><p><span style="font-size:18px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;这种方式，实现非常简单，但是他却代表了一种思路，我们处理问题的思路，我们在面对大量重复工作的时候，实际，我们完全可以交由机器去实现，而机器是善于做大量重复工作的，我们的工作既高效又简单。</span></p>   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/xvshu/article/details/51994762'>原文链接</a>