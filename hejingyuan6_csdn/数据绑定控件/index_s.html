<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 数据绑定控件</div><div style="color:blue" align=center>数据绑定控件</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p style="margin:0in; font-size:16.0pt"><span lang="en-US" style="font-family:Calibri">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p style="margin:0in; font-size:16.0pt"><span lang="zh-CN" style="font-family:仿宋">&nbsp; &nbsp; 通过敲牛腩视频我们知道对于显示数据的部分我们使用了一些专门<span style="font-family:仿宋; font-size:21px">控件</span>用于显示数据，通过这些控件可以以可视化的方式查看绑定数据之后的效果。这些控件称之为数据绑定控件。</span></p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><br>
</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">数据绑定控件的一些常用属性：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><br>
</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">DataSource属性：指定数据绑定控件的数据来源，显示的时候程序将会从这个数据源中获取数据并显示。</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt; color:#C00000">DataSourceID属性：指定数据绑定控件的数据源控件的ID,显示的时候程序将会根据这个ID找到相应的数据源控件，并利用这个数据源控件中指定方法获取数据并显示。</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">DataBind()方法：当指定了数据绑定控件的DataSource属性或者DataSourceID属性之后，再调用DataBind()方法才会显示绑定的数据。并且在使用数据源时，会首先尝试使用DataSourceID属性标识的数据源，如果没有设置DataSourceID时才会用到DataSource属性标识的数据源。也就是说DataSource和DataSourceID两个属性不能同时使用。</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">在牛腩新闻发布系统中常用数据绑定控件：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><br>
</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">GridView控件</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><br>
</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">GridView控件是一种复合型的控件，它使用表&#26684;形式实现多列数据的展示，GridView控件上使用的特效一般需要用客户端Javascript脚本，脚本方法可以直接写在.aspx文件上，也可以在绑定数据时，为控件增加该属性。GRIDVIEW生成的是TABLE，效率低，是因为TABLE在浏览器里加载的时候，是整个表一起加载，然后再呈现，从而有个“漫长”的等待时间，而且，使用TABLE导致的HTML代码也大很多。<span style="font-size:16pt">&nbsp;</span></p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">代码：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">
<p>
<pre name="code" class="html"> &lt;!----热点新闻----&gt;
        &lt;div id=&quot;hotnews&quot; class=&quot;commonfrm&quot;&gt;
            &lt;h4&gt;热点新闻&lt;/h4&gt;
           &lt;asp:GridView ID=&quot;gvHotNews&quot; runat=&quot;server&quot; AutoGenerateColumns =&quot;False&quot; BorderWidth =&quot;0&quot; GridLines=&quot;None&quot;&gt;
               &lt;Columns&gt;
                   &lt;asp:TemplateField HeaderText=&quot;所属类别&quot; HeaderStyle-CssClass =&quot;th_category&quot; &gt;
                      
                       &lt;ItemTemplate&gt;
                        &lt;a class=&quot;td_category&quot; href =&#39;list.aspx?caid=&lt;%#Eval(&quot;caId&quot;) %&gt;&#39;&gt;[&lt;%# Eval(&quot;name&quot;) %&gt;]&lt;/a&gt;
                       &lt;/ItemTemplate&gt;
                   &lt;/asp:TemplateField&gt;
                   &lt;asp:TemplateField HeaderText=&quot;新闻标题&quot;&gt;     
                       &lt;ItemTemplate&gt;                      
                           &lt;a  href=&#39;newscontent.aspx?newsid=&lt;%#Eval(&quot;id&quot;) %&gt;&#39; target =&quot;_blank&quot; title =&#39;&lt;%#Eval(&quot;title&quot;) %&gt;&#39;&gt;&lt;%# StringTruncat( Eval(&quot;title&quot;).ToString(),18,&quot;...&quot;) %&gt;&lt;/a&gt;
                       &lt;/ItemTemplate&gt;
                   &lt;/asp:TemplateField&gt;
                   &lt;asp:TemplateField HeaderText=&quot;发布时间&quot; HeaderStyle-CssClass=&quot;th_time&quot; ItemStyle-CssClass =&quot;td_time&quot;&gt;
                       
                       &lt;ItemTemplate&gt;
                           &lt;asp:Label ID=&quot;Label3&quot; runat=&quot;server&quot; Text=&#39;&lt;%# Bind(&quot;createtime&quot;) %&gt;&#39;&gt;&lt;/asp:Label&gt;
                       &lt;/ItemTemplate&gt;
                   &lt;/asp:TemplateField&gt;
               &lt;/Columns&gt;
        
           &lt;/asp:GridView&gt;
       &lt;/div&gt;</pre>
<p>
<p><span lang="en-US" style="font-family:Calibri">web</span><span lang="zh-CN" style="font-family:仿宋">端：</span></p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><span lang="zh-CN" style="font-family:仿宋"></span></p>
<pre name="code" class="csharp"> protected void Page_Load(object sender, EventArgs e)
        {
            if (!Page.IsPostBack)
            { 
           

                NewsManager nm = new NewsManager();
                //绑定最新新闻
                gvNewNews.DataSource = nm.SelectNewNews ();
                gvNewNews.DataBind();
                //绑定热点新闻
                gvHotNews.DataSource = nm.SelectHotNews();
                gvHotNews.DataBind();
            }
        }
</pre><br>
<p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">Repeater控件</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><br>
</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">Repeater控件用于显示重复的项目列表，这些项目被限制在该控件。Repeater 控件是模板化的数据绑定列表，Repeater控件是“无外观的”，即：它不具有任何内置布局或样式，也就不会产生任何数据控制表&#26684;来控制数据的显示。因此，我们必须在控件的模板中明确声明所有 HTML布局标记、&#26684;式标记和样式标记。Repeater控件是个轻量级的数据绑定控件，一般用它来输出要求相对简单的数据</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">代码：</p>
<br>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><span lang="zh-CN" style="font-family:仿宋"></span></p>
<pre name="code" class="html">&lt;asp:Repeater ID=&quot;repCategory&quot; runat=&quot;server&quot;&gt;       &lt;ItemTemplate&gt;
         &lt;tr&gt;
          &lt;td &gt;&lt;%# Eval (&quot;id&quot;)%&gt;&lt;/td&gt;
          &lt;td class=&quot;caname&quot;&gt;&lt;%# Eval (&quot;name&quot;)%&gt;&lt;/td&gt;
          &lt;td &gt;            
            &lt;asp:LinkButton ID=&quot;lbtnDelCa&quot; runat=&quot;server&quot; CommandArgument=&#39;&lt;%# Eval(&quot;id&quot;)%&gt;&#39; OnClientClick=&quot;return confirm(&#39;删除类别会使其下新闻及评论全都删除，是否真的要删除？&#39;)&quot; onclick=&quot;lbtnDelCa_Click&quot;&gt;删除&lt;/asp:LinkButton&gt;
          &lt;/td&gt;              
         &lt;/tr&gt;
       &lt;/ItemTemplate&gt;
       &lt;/asp:Repeater&gt;
</pre><span lang="en-US" style="font-family:Calibri">web</span><span lang="zh-CN" style="font-family:仿宋">端：</span><br>
<pre name="code" class="csharp"> protected void Page_Load(object sender, EventArgs e)
        {
            //判断session里面是否存在管理员
            if (Session[&quot;admin&quot;] != null &amp;&amp; Session[&quot;admin&quot;].ToString() == &quot;niunan&quot;)
            {
                //已登录
                if (!Page.IsPostBack )
                {
                    //页面第一次加载时绑定类别列表
                    DataTable  dt=new CategoryManager().SelectAll();
                    repCategory.DataSource = dt; 
                    repCategory.DataBind();
                }
            }
            else
            { 
                //未登录
                Response.Redirect(&quot;login.aspx&quot;);
            }
        }
</pre><br>
<p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">对比：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">GRIDVIEW是表&#26684;，基本上固定生成表&#26684;，而REPEATER是重复，可以生成表&#26684;，也可以完全自定义DIV之类的输出，甚至应用于SELECT对象（GRIDVIEW是不可行的）</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><span lang="zh-CN">Repeater</span><span lang="en-US">&nbsp;控件使用数据源返回的一组记录呈现只读列表。Repeater&nbsp;控件不指定内置布局。您可以使用模板创建&nbsp;Repeater&nbsp;控件的布局</span><span lang="zh-CN">。</span></p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">Gridview，DataList（也是常用数据绑定控件），Repeater</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">1. 共同点：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">1）都是数据绑定的控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">2）用Eval输出都得用到模版才能输出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">3）都能用数据源拖动的方式绑定，也可以在cs文件里用简洁的代码绑定</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;2. 不同点：&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">1）处理外观样式：</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">GridView：最不好处理&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">DataList：很好处理&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">Repeater：最好处理，可以非常完美的跟html处理美观样式功能一样</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;2）功能和性能： </p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;GridView：功能最强大，提供分页，编辑，删除，选择等等很多功能，使用最方便。但性能最差，占用系统资源大，他的分页是把整个表的数据取出来，到gridview上分页的，因此如果数据量比较大的时候，速度非常非常慢。效率极低。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataList：功能一般，最大的特别是可以实现显示几行几列，删除，编辑， 翻页，排序等功能都得自己手工实现。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">Repeater：功能简单，效率高，容易灵活控制生成的HTML代码，分页需要自己实现。</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;</p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">总结： </p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">&nbsp;&nbsp;&nbsp; </p>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt">从灵活性上讲肯定是Repeater更灵活，他只是循环内容，不用产生.net指定的一系列垃圾代码，但是同时他也失去了.net提供的部分功能。但是编译生成的html更为简单，因此效率 也相对要高</p>
<br>
<p style="margin:0in; font-family:仿宋; font-size:16.0pt"><span lang="zh-CN" style="font-family:仿宋"><br>
</span></p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/8986613'>原文链接</a>