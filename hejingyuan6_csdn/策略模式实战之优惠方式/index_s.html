<div class="articleLocationOnion"><a href='../../index.html'>首页: </a> &gt; <a href='../index_s.html'>未分类</a> &gt; 策略模式实战之优惠方式</div><div style="color:blue" align=center>策略模式实战之优惠方式</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">
<br><p>策略模式的类图：</p><p><br></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="data:image/png;base64,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" alt=""></p><p>代码结构：</p><p><br></p><p>优惠方式父类：</p><p><br></p><p><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_1_344027" name="code" class="java">/**
 * @author hejingyuan
 *
 */
public class AbstractIncentive implements Serializable {


	private static final long serialVersionUID = 1L;
	
	private long id;
	
	private int minAccount;
	
	private Integer feeFree;

	private String incentiveType;
	
	private long incentiveTypeId;

	//省略get set 方法
	
	public PromotionResultDto calculate(Map&lt;Integer, Integer&gt; selectedGoods, Integer repeatTimes,PromotionActivity promotionActivity,int orderAmount,List&lt;ProductDetail&gt; list) {
		// TODO Auto-generated method stub
		return null;
	}
	</pre><p><p>单品优惠子类：</p><p><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_2_376264" name="code" class="java">/**
 * @author hejingyuan
 *
 */
public class IncentiveItemDiscount extends AbstractIncentive {

	private static final long serialVersionUID = 1L;
	
	public IncentiveItemDiscount(){
		super.setId(0);
		this.itemCups = new Integer(0);
		this.itemDiscount = new Integer(0);
	}

	private Integer itemCups;
	
	private Integer itemDiscount;
	
	//省略get set 方法
	
	@Override
	public PromotionResultDto calculate(Map&lt;Integer, Integer&gt; selectedGoods, Integer repeatTimes,PromotionActivity promotionActivity,int orderAmount,List&lt;ProductDetail&gt; list) {
		// 单品折扣
		
		PromotionResultDto promotionResultDto=new PromotionResultDto();
		promotionResultDto.setId(promotionActivity.getId());
		promotionResultDto.setName(promotionActivity.getName());
		IncentiveItemDiscount incentiveItemDiscount=(IncentiveItemDiscount)promotionActivity.getPromotionTemplate().getIncentive();
		// 商品或商品类别的限制
		String promotionRule=promotionActivity.getPromotionTemplate().getLimitedProduct();
		
		int cups=0;
				
		//订单包含商品为不限时,选择价格最便宜的优惠
		if(promotionActivity.getPromotionTemplate().getTypes().equals(0)||promotionRule.equals(&quot;&quot;)||promotionRule==null){
			for (Map.Entry&lt;Integer, Integer&gt; entry : selectedGoods.entrySet()) {  
	            cups += entry.getValue();//订单中包含的总杯数
	        }
			//倍数
			if(promotionActivity.getPromotionTemplate().getMinCups()!=0){				
				cups=cups/promotionActivity.getPromotionTemplate().getMinCups();
			}
			
			//repeatTimes=0 不限制重复次数
			if(repeatTimes&lt;cups &amp;&amp; repeatTimes!=0){	
				int promotionProductPrice=getPromotionProductPrice(incentiveItemDiscount,list,repeatTimes);//优惠商品数的总价格
				promotionResultDto.setAmount(incentiveItemDiscount.getItemDiscount()*promotionProductPrice/100);	
				promotionResultDto.setTimes(repeatTimes);
			}else{				
				int promotionProductPrice=getPromotionProductPrice(incentiveItemDiscount,list,cups);//优惠商品数的总价格
				promotionResultDto.setAmount(incentiveItemDiscount.getItemDiscount()*promotionProductPrice/100);	
				promotionResultDto.setTimes(cups);
			}
			return promotionResultDto;
		}
		Integer relation=promotionActivity.getPromotionTemplate().getRelation();
		String[] rules = StringUtils.split(promotionRule, &quot;,&quot;);			
		//and
		if(relation.equals(1)){
			//整除（订单中某商品的杯数/活动中此商品的最小杯数）
			if(promotionActivity.getPromotionTemplate().getCups()!=0){
    			cups=selectedGoods.get(Integer.parseInt(rules[0]))/promotionActivity.getPromotionTemplate().getCups();	
    			for(int i=0;i&lt;rules.length;i++){
    				//取最小值
    				if((selectedGoods.get(Integer.parseInt(rules[i]))/promotionActivity.getPromotionTemplate().getCups())&lt;cups){
    					cups=selectedGoods.get(Integer.parseInt(rules[i]))/promotionActivity.getPromotionTemplate().getCups();
    				}
    			}
			}
		}else{
			
			//or 或者 无关系时，即只选择了一种类型或者一种商品的情况
			cups=0;
			for(int i=0;i&lt;rules.length;i++){
				//累加所有商品杯数
				if(null!=selectedGoods.get(Integer.parseInt(rules[i]))&amp;&amp;selectedGoods.get(Integer.parseInt(rules[i]))&gt;=promotionActivity.getPromotionTemplate().getCups()){
					cups+=selectedGoods.get(Integer.parseInt(rules[i]));	
				}				
			}
			if(promotionActivity.getPromotionTemplate().getCups()!=0){
				cups=cups/promotionActivity.getPromotionTemplate().getCups();
			}
			
		}					
		
		//repeatTimes=0 不限制重复次数
		if(repeatTimes&lt;cups &amp;&amp; repeatTimes!=0){	
			int promotionProductPrice=getPromotionProductPrice(incentiveItemDiscount,list,repeatTimes);//优惠商品数的总价格
			promotionResultDto.setAmount(incentiveItemDiscount.getItemDiscount()*promotionProductPrice/100);	
			promotionResultDto.setTimes(repeatTimes);
		}else{				
			int promotionProductPrice=getPromotionProductPrice(incentiveItemDiscount,list,cups);//优惠商品数的总价格
			promotionResultDto.setAmount(incentiveItemDiscount.getItemDiscount()*promotionProductPrice/100);	
			promotionResultDto.setTimes(cups);
		}
		return promotionResultDto;
	}

	private int getPromotionProductPrice(IncentiveItemDiscount incentiveItemDiscount, List&lt;ProductDetail&gt; list,int cups) {
		//从list中找出优惠商品，进行优惠金额计算
		int promotionProductPrice=0;
		for(int i=0;i&lt;cups*incentiveItemDiscount.getItemCups();i++){
			promotionProductPrice+=list.get(i).getPrice();
		}
		return promotionProductPrice;
	}

}</pre><br>直减，整单折扣 省略...<p><p><br></p><p>优惠模板：</p><p><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_3_3058460" name="code" class="java">/**
 * @author hejingyuan
 *
 */
public class PromotionTemplate implements Serializable{


	private static final long serialVersionUID = 1L;
	
	private long id;
			
	private String name;
	
	private Integer minCups;

	private String limitedProduct;
		
	private AbstractIncentive incentive;
	
	//去掉部分属性及get set方法
}
</pre><br>策略模式应用：<p><p><br></p><p>优惠计算及结构：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAFQCAIAAADsv5d7AAAgAElEQVR4nO2dbVBTZ/738wpnvDu3LxxnnI4zZMcBS+/q2NoWsNZW17Ka3dVWdC22aLRBFI20RJGCESqgAXlQUGgIisiTQjGiUB5EIFIDIkilqYot6wO2Kmuq1NZd1t1/7hfX9vzPnnMSTkjCSU6+n/m9IFdOTs7lObk+Xs8SCwAAAODFSIS+AAAAAEBIIEIAAABeDUQIAADAq4EIAQAAeDUQIQAAAK8GIgQAAODVQIQAAAC8GogQAACAVwMRAgAA8GogQgAAAF4NRAgAAMCrgQgBAAB4NRAhAAAArwYiBAAA4NVAhAAAALwaiBAAAIBXAxECAADwaiBCAAAAXg1ECAAAwKuBCAEAAHg1ECEAAACvBiIEAADg1UCEAAAAvBqIEAAAgFcDEQIAAPBqIEIAAABeDUQIAADAq4EIAQAAeDUQIQAAAK8GIgQAAODVQIQAAAC8mjGKcOU2XVB4OsJ1sXKbzrl3GgAAACdjFGFQeLqxfxjhuggKT3funQYAAMAJROimARECAMD4IIAIlal6g8lMvdSe7K1qG3DEGZ993lLaeJ3nwfSvZkdz7/2WK0M8T7Uy+vBubau1t/ifByIEAAABGW8RZpd2SqTy36/ZT/eiRCpPLmgz9g9nlnaMwR/KVP2UOVv1528y0tOK2tkH13YM/mF9bm7lJWtn8/FThMUcHfVLGy796OOnCFMVU2al/sgu7fTxU2SXdkKEAADg/oy3CP/ySdGkWVG1HYNUSmL+uYAQNfn7aJ1pamDMnyLz9e1Mqxn7h/ceOZ+ia2OHLCLv1Xf3MBLfkedIpPJ18eWcLpw0KypMVcx5hRKpPCG3adSMbMuo/d38HZUt3580/PWk4a/5X/RMDIjUFLUb+4eDVmgS88/RD14XX65M1Xu0CDE8SvDA+CkAXMS4ipDUohiS0BS1UyIkLvTxU0yZs5X98cOn+/KrLxPx0GN9QsUf1uey00lwtoVuy6iVSOWHKrs5RajhqkrSw2AyT5oVtT3zyxRd2/9bnKg+eJbYd++R85qi9leWppCXM2VJkYlVlJvZdVYPEuHY7jjCieFujwQAomFcRbgto5buPBIMERr7hxPzz/n4KaydZF/xhQ2JlbZFuC6+PFpTY+NKDCZz8Iq0hks/st/iI8Ko5GqqhpeQ2zRlzlZyKoPJvERxiFJvy5Uh33mxK6MPi6DUgwgFD3d7JAAQDeMnQoPJPGXOVrZj2CI09g8Xf/mttVEtmqJ2/4UJtkX4h/W5Cz7Mtj0uxlqMKsIDFV3LNmmN/cO6U1eM/cP68zenBsaQ79q69xS91VdT1B63v37e+/tEUOpBhIKHuz0SAIiG8RNhYv45iVS+LaOW4SdOEa6LL1+2SctpMvbxylQ9MRMVyzZp7e2To8K2CGs7BsNijpILCwhRvxmWsfGzL6zFlDlbA0P3iqPUgwgFD3d7JAAQDeMkQoPJ7DsvdqYsadKsqOIvv527Mk0WkReqLAxVFs5dmTZpVlSosnDSrKi5K9NIIok9hQb2qTRF7eR4KmbKknznxdJTfOfF2hZhbuUla/VFtggTcpuog+kzPWbKkmx/S0CIesw+drdSDyIUPNztkQBANIyTCHdk1YepipWpenblj0oMCFGP2jlndKBGuD2zjmhSFpEnkcoDQ/c29dxbF19ON2ioslAildN9/Np7eyVSOeP81LcEr0izXSOECBHOCnd7JAAQDeMhwtqOwVeWphhMZmsiDFqhMbpehAaTmZqkKJHKj9aZjP3Djd336jrv0g/jM1jGxrfQAzVChBPD3R4JAETDeIgwTFVMhpBwinD5Fh3RGH8R8mkaVahP2DiJRCovabhq7S3+IpRF5HFObSQxLVgFESKcFe72SAAgGlwuwiNnTKTuZbQiwqAVGmILniLMKutkTI2g1whPG+8s36L7JO00o57HCGeJEDVCxLiFuz0SAIiGcZ1HyClCHz/FvuILRt4i5DwtffrE/vKLb3+QJZHKZyzaWVjTx/kRiNBeIELBw90eCQBEg8Ai1J7slUjlZMkV2yIsa7pOtXxOC1aRmPyycmpgzLRgFRmDujO3KUXXRnSob785Y9HOSbOiOM/mFBHKIvJmypJClYX/58WN5A+qqZYaBwsRsiM+p4G+hJ7+/M386suOnFB36grnurICRknDVf4LwXvoIwGAaBBYhNRIGSOPGuGfIvMjdp2gVEemNBys7La2BYTBZN6WUcv5Fl2E9CnwRntEuCOr/njzd+yPUNks/vJb0ZR6zhIhWZ1uYkDkaeNt42/OkEjli9cfNPYPF+i/HsNWJOQMKbo2RnpeVQ/j5hr7h5t77y/bpOVczJYeLVeG0oraZyzayTlgeNTQFLX7+Cn2l190yj+aez4SAIgGgUXoOy+W0hhbhOzqVFXrf0rJt1ZnUUtjL9uknff+PvrCZvvLLzI2e2IEJcIdWfWML+UvQhINl36USOWkdddaNlN1bRsSKz261HOWCMn2I6k0aZF/QHI7DCbzvPf3vbQ4kXN7kAL915yDkmLSzxAR0mPrHr1EKp8pS2K78EBFl4+fgn2XG7vv5VdfVqbqX16aIpHKJVL55JeV04JV+V/02M6UwWTeX/ZfzuNcJsLBcLdHAgDRIKQId2tbA0LUlK7YIoxKrmacgdpNIiBE/UnaafJ3bcegj58iPqeBKoPId00NjLHdR8i5KYQNETb33v/D+tzfzd8RGLqXioAQtUQqf2VpCpUyLVg1MSCSfgxpyN3JY1MLty31nCXCd+Q5Cz7M5rwdxt+kMlOWxLkkem3H4L7iC+x11Q9Wdkukcmurrjd23+O8DNJs3tx7f+NnXyz+6CBpXSebgiXlnztp+Cvn9XPOPSXipD+uECEAHoRgIiRLj1IDSo1cIpRF5NFfpuraqHYqxsHqg2fJf/zLz/ZT5ZEsIs/HT8He80F//iapK8yUJbEv0naNkF3LXBdfPmdZqrVsiqbUc4oIq1oHOHtnGYnkfzb0SjYj3lqddeSMyYYI95ddDAzda6NJ4EBF1/ItOs63bPQfk2jsvjfqrpkQIQAehGAiXLZJuyOrnv5uQIia3qVX2zFITXs3/rY9E1WBCwhRp7L6hMhhU+ZsJeMUqloHJgZEsreYOFDRJZHKGdsi0stB/k2jpCuIrnMjRGg9wlTFnF1ubPeUNl63IRuJVH6wstuGCHfmNk2aFUV6cO2NUUXI88GgPwO1HYOcj6tHPxIAiAZhRKhM1TMsaOwflseXS6RyMgp0WrBq0qwoiVROTRlM0bW9vDSFUlfQCs30tz9ltFCFKgunBsb4+CkOVHSRwzgLU4PJ/I48x1rBxFOEZKEc3zdj2YMDPV2ET0f+9dOTEUai4yIk9bx31h5gD1RhuyevqmdqYIy1IS2M48lgGfoBnBWy08bbO7Lq6dXEzz5vGfXk1O3mk8eDld2BoXs3fvaFLCJvypyt1GJ7f1ifK5HKGf2IHvRIACBuxluE8vhy1b7ajGNGzgNqLtym/7/exqR4fftNznET+8svcvYJ8S/XJs2KstEoZ+wfbuy+p0zVB69IszZk39NFeG3w8co9raUtAyPP/u3gHafHuvhy0vm3W9u6IbEyeMX/LuhKRo2yVwiiuoQZQY6nDlu8/qBEKqd/cO7KNM5bsCOrfmpgDFVT5BxUzBZhVHL1qGNHW64MvbI0Ja/qP8NqGCZ2SkspRAiAixhXERpMZoPJzEdUQgWf//iXNV23fZhTMihsqXf/0dO0qm/WZX3V1nfPkTtORVXrwNTAmKN1JrZmSH2upOEqe81YazG2GiGJBR9mT5mzlXxKU9SuTNWHKgu3Z9ZR/5eSSOUx6WfY/8eqaL5h7B9O1bXRN04JCFHTBbzq46KmnnvsC4AIAXBnxlWECM8q9Uy3H0V/fjGuqPvWgycO3vF35DlH60yU8+hvkUT9+ZvjI8Ls0k4fP4Wxf3hDYiW7/5h9chuxIbGSDDFlv8XIS6quDSIEwG2BCN00FihLZLvOukn8Oal5/saCMeclVddGul05Rbiv+ALRmF0iHLVp1PfNWGsfJwsdWPsuniIkKwNYO0mYqpjeruvpreUAiBuI0E3DHUq9Ww+exBf3bMgxdt946Mgdp8akcIpwR1Y9NYSKpwh/v2Y/vTLHqBFGJVeviy8/csZk4wzZpZ1UByGjoZtxhdYG7CTmn5spSzKYzM2999nHBK3QJNJqihAhAO4MROimIWypN/zrPw+eufa+pu10551//ft/nHXHOUW4fIuOTOnjL0LO01JjrI6cMUUlV0uk8okBkQk5jZwfWbZJS13G8i268NgSzj7C5Vt0jNmuJAwms9/CBCp9+RYd4xjGpJoxZ819HgkARIw4RZhX1WN7PEts5pfbMmrJ5IqV0Yfp/6PPKuvckFg56oxpV4eApd7AvZ/f17Tl113/5e/PnHvHOUU4LVhF5tKMaou1caXUSi7UwuuTZkVNC1aRMajKVH2Kro3MtW/svhceWyKRyqm5NFRUtQ74zvvfhtNlm7TWvpfU5NgVvmhNDX1NIjIUiDpMe7KXsdo7RAiAOyMGEe4rvsCYj7EuvnxiQKSNJSKVqfo3wzKILCVSeUaJsbZjkExSjEqunjJn66iLMrs6BCz1hn/95/1HTxmJLhIhNVLGyMMW8TkNZCdkSnXG/uHm3vsK9Qlr/3HJOGakvu608faWlJMpurbpb38apiqmjrEtQvZbR+tM7MR18eW+82LJE/WXT4oYS8va+AqPeCQAEDeeJMLKlu8DQ/eGxRyl5imTmLFo55Q5W8vP9tPLL8bybKTEpJq/ZBF5r767h94UNlOWNDUwprZjkNG7YzCZA0P3shvHXB3uVuq5SIQbEivfkedQd41hC01RO6P6SK26Hq2pCY8tIf930RS10xswW64MWdtigmxIwlj12y4R6ttvBq3QFNV+k6Jr255ZF6osfDMs463VWas+LpJI5Yn552o7BicGRFLXSX2FtRXdPPeRAEA0eJIIrQW7ILNWtzje/B2pSdAPoBfNVa0DZCtBaqL3/LDMUGXh6m3HyPywcQt3K/VcIcKGSz/S+9LYdy1V18YQITUUU5mqf/XdPVQD+IIPs+e9v4/8TUaoHq0zTQyItDZlnv4/G7tEqClql0jlPn6K4BVpO3Obai7cpt6asyxVU9Qepipmr+QetEIz5p0p3faRAEA0eJcIjb915yTkNFL73hV/+W1txyApUrdl1L6yNIX8TTYN5pxqNg7hbqWeK0QYpiqm79jAvmvKVD3dWLUdg1TfG+Pgo3Wm7NJO6nkgf6Tq2iRSObUtCYnys/2MWqm9TaNU7zIj6jrvaora31l7gP0W1Q8qpkcCANHgYSLkHAJjlwjDVMUzFu1kNK6+tDhxxqKdBpN5ieJQYU0faRpdF19OtdqNf7hbqed0EWqK2um7SJK7xtjH482wDMqUZHsmahICZ+s3Cf+FCdRelUErNIx9m4kdtSd76c8PY2k3KmbKkqx9CzsKa/qoLS/052/uzG06afhry5WhvKoezjE7nv5IACAaPEyEByq63lqdxdhw7g/rc3mK8EBF1zvynL1HzpMP7ta2ksUhl23SkgGHpP6x+KODx5u/mzQriqpkjH+4W6nnXBEerTO9tTqL8d+aQ5XdPn4KMgp0WrBqamAM2eiRUov/wgTqjuzIqvfxU7DV9dp7eyVSeXhsCTmMXXXbrW1lrKs+6qhRPlnLLu38c+Tn9BwVf/ntjEU7yQa/nBt+efojAYBo8DARJuafmzQrirEI5Kvv7lkZfZhRfrGLttqOwZXRhw0mc0CImkwUI4tGGvuHZ8qSNEXt9OHvPn6KoBUaQfLonqWes0Q4Y9HO3MpLCvUJzsp9Y/c9xv9yrJ3KYDLvK77AufA6vd+OM443f0cX5LJNWoX6BOeRylR9YOhe22cj+5BY28xEFpH3+zX7OTf88vRHAgDR4GEijEquZu9vzv5fP6cIqbYpugjJEIZJs6IY058nzYqaGBCZW3lJkGy6YannlDtO5GdjUxFBwsacUZ7TScdn1qm7PRIAiAYPE2HQCg21Q6GNsD0jbaYs6fDpvpOGv27LqD1Q0UXa60gZ3XJl6K3VWSujD7dcGUrVtfn4KV5anJhcMHolQ/SlnlsNj/LOcLdHAgDR4EkiJHvWcw462K1tZQy74DN/ufjLb199d8/EgMjlW3QtV4bI+Auy0a7BZD7e/F1p4/UZi3b6+Cm2Z9bx3JpVrKUeRCh4uNsjAYBo8CQRhsUcJaMnAkP30oNs97p4/UHqSP4rWhlM5vDYkvKz/am6Nu3J3hRdW6iy0H9hAhnjQIYsCtKU526lHkQoeLjbIwGAaPAkERpMZs5OO7KPD/8aYWL+OTJr4q3VWe9tLli97ViostB3XuxMWRIZbZFffZkarDHOFUG3LfUgQsHD3R4JAESDJ4nQWkRravwXJtBTxrDGMZlBQU9JyG0SyoJuWOq51R33znC3RwIA0SAGEcoi8hgLOdoWIVkikhGkRki9nB+WKZHKGTO+vbnUc6s77p3hbo8EAKJBDCJkr19lW4QtV4bY493ZNUIStR2D1qaIeVWp51Z33DvD3R4JAESDx4uQTH6gr5hltCLC0oZrnPOvqVn5ZIsfRkyZs5XsKuDlpZ773HGvDXd7JAAQDR4vwg2JldOCVYxEThEaTOYUXRtj4RL6Om3rEyqsvWtjiRMvKfXc5457bbjbIwGAaPBIEUZrakKVhWRDOB8/BWMTVGP/sDJVb+8CadaaRlHqESBCwcPdHgkARINHitDYP6xvv0kaLWfKktjjWfivlbwjq56MjvHxU0CENnhjbUZQeDpCwHhjbYbQTwEA4sRTRWjsHz5Q0WVthkOYqpj/9Al9+01qe3rBM+W2InS36/FCcAsAcBEeLEIbYe+ch8buewJOGYQIAR9wCwBwEeIUoQjC3Uo9d7seLwS3AAAXARG6abhbqedu1+OF4BYA4CLGKELZ5kOCjx0Qd8g2H3LunXYQlMKCg1sAgIsYowiBt4FSWHBwCwBwERAh4AVKYcHBLQDARUCEgBfOKoUPnzC0GK9yvrXn0BlT/11HTp5RUP/r03/Y9RFlYsmhY80jI8/G9o1n203HT3ey0/dpvzzV2DO2c1oDIgTARUCEgBdOKYVHRp69sDBu7vJk86MnVOKdHx5aLBbzoycT/BVhynz68T89/oVxBkPndfY5KY1Nn7/9vQ05/K/n/tDjCf6KP3+Uzf6iqrouPk6N/qxMIpWXnTIy0iPijjz/enT/wD3+FzMqECEALgIiBLxwSimsLWv9vy9t7Pnm5q3Bv5FIy697/vXo+0OPDx1r/r8vbbxy9Q711vHTnRP8FRd7B+hnqDjd+eePsukVuAvdN3zfUF3ovmGxWF5bmqS3px6mzqyWSOURcUc2q4/RY61KJ5HKXwpJIJK2xsjIswn+ioi4I+Tl4RMG6vi0/Doq3VlAhAC4CIgQ8MLxUvj+0OPJszdn6uqPVrXPXZ5cXtNRWXuRxPmL119YGLct9Xhl7cVFH6QfOtZMvXWyoZtxnunzt6tSKqiX2rLWFxbGETXSRThqa2fftTsT/BXhn2jZRxJB6irabJ+k4nTnBH/F97cekJeL12S8FJLw44NHFoslo6AeIgTAU4AIAS8cL4XXqnSUpaI/K3t71V7qrezDjZQ2LnTfmOCvONtusnYedWb13OXJ1MvQjbkVv/XSUSIcGXn29qq9GQX1Nq5n8ZqMjIL67289yD7cSE+/bLo1wV+xVqUbNUcL3teoM6uplxP8FVQGIUIAPAiIEPDCwVI4o6BeW9ZKvTzbbpJI5bfvPrRYLJdNtzYlFNPrXqEbczclFFs71WXTLaqn0PzoyfOvR1NNmpNnb5bJM+mNnNZ66TIK6qmvSMuvowR2f+jxa0uTSGut7Rxd6L4xefZmqrOT6JPKBV2EIyPPlIklo55wVCBCAFwERAh44UgpfKa5t6qui3pp6r97f+hx8RdfkZcHi5mDNs+2my6bbo2MPOMckEmnVG+k+5VnH6G+sYfeuEqqjw1tfb8+/cfc5ck8B7mEKfMlUjlVm9SWtU59dWtI+D4S0+dvp17OXZ48ff72pYr9Pz95OuppbQARAuAiIELAC0dKYTL8cuD2f/rSIuKOTJ69+Yf7P51s6Kb6AtlBTMNu3vz16T+IOEdGnjEqjnxEWFXXRXcn4f7Q4+dfj/Z9Q+X7hsr2ABnChe4bz78eLZHKqbpp6MZcenMumkYB8CAgQsALx0thiVSeevC0xWKJiDtCJGHqv0uNEb01+LejVe2zl6jpKSTIxylrhm7MfSkkwfzoye27DxntjQwRGjqvM0z585OnjGGoFotlZORZRkH9BH/FBH/FW6v28pnLSLQnkcr7rt2xWCy37z5cvOa/NguECAHwICBCwAuniJBogxIhA31jz2tLk6iXjLl9XV8PEC9+EP15fHrVz0+eLlXsp5oiX1z06WtLk15c9OnsJeoXF31KJU6fv31X1klrlzQy8qyoqt33DdWiD9LPtpvu/PDwlT/uIhMn8krOfXvjLueo0TPNvWn5dfQcHTrWTOZvUECEAHgQECHghYtE+N6GnLySc6SqtzOjevr87VTT6OTZm2OSy9nniYg7wm4vfW1pEumuY9iUk5GRZ+1d/eu3F06fv333gVOkzbZUb/R9Q1XX8nXn5e+XrM2USOUkJs/ePH3+9sVrMsiCOCMjz97bkEMESXI0MvKMMe7UAhEC4FFAhIAXjpfCs5eo2SKkW43hMGsdfpwinOCvONPcyz4Jne9vPSgob90Yf/Tjz8rONPc++Nsw/V19Y49EKqc6CH96/EvT+W92aCpnL1F/FHuYOmxnRjXVHkupnQ1DhHd+eOj7huqy6RbnwTyBCAFwERAh4IXjpfBrS5MoEVKDNp0iwr5rd6jJGIyT0Bdgsw0RIT0lo6CeNIHSoQ+lISK8P/T4rVV7GWvTzF2e/MLCOEbix5+VPR7+lc/FcAIRAuAiIELACyeKkMxkJ4lOEWFyTg21SCnjJGeae9mVtu9u3p+7PJnqXyQxe4laIpVTL99etXf6/O3T528/WtVuLUf8a4ROASIEwEVAhIAXTukjJCNKZi9RUxMYHBeh+dGTybM3U1MXGCepquuy5iqLxXJ/6HFDWx/1QVIj5L8TBUQIgDiACAEvHC+FJ/gr6tv6zI+eUEa0OEOEjJeMk9BXjeE8FbV3BCXCy6ZbEXFH+EyigAgBEAcQIeCF46UwmQ5RcbrzhYVxVKINEc5eomY7rMV49YWFcfHpVeSlOrM6OaeGfkBbxzWJVL5WpSPdcs+/Hk0m77Ovh5jv0LFm+kvy950fHr4UkqBMLLE9uR4iBEAcQISAF84qhRe8r6Ev7MIWofnRkzhN5QR/hUQqp09+v/PDw/c25Mxdnnznh4dFVe3JOTWZunrOelvn5e/pK9RwHqNv7HnuxUiqXdTCGixzf+jx3OXJE/wV9MXhGECEAIgDiBDwwimlcFVdF2MFln3aL6mFPek1worTnXRffnfz/nMvRs5dnkxtltvQ1jdjYdyJMxcZsyA4uXvvv2qEVXVdMxbGEctS0/ZL9UbGqFGy7hrDxxS37z60IUJriwY4AkQIgIuACAEvHC+FL/YOhITvszEUxfZc+FK9kWGdOz88VCaWkLqj7xsqMsiTHr5vqMgyMe1d/dSnknNqlIkllFBbO64tWZs5ff72516MnDx7M+NLL3TfkEjlZIYiAzJnw9rUwIi4I6PO67cXiBAAFwERAl44WArXnvtak1dre0CmtqyVvtEgT0ZGnn17425l7cWjVe2MeXtkr3n6eqQF5a2cLaVFVe303QTp1LV8zXnZfdfuPPdiZOfl7zmvKiLuSEj4PnvzYhuIEAAXARECXjhYCvNpwLzzw0P+Uxecy8jIM8bSpnw+QlUr2fDZwsJeIEIAXARECHiBUlhwcAsAcBEQIeAFSmHBwS0AwEVAhIAXKIUFB7cAABcBEQJeoBQWHNwCAFwERAh4gVJYcHALAHARECHgBUphwcEtAMBFQISAFyiFBQe3AAAXARECXsyTZwSFpyMEjHnyjNHvk+cg23xI8H9SLw/Z5kNCPwXuAkQIeBGE6ojQiOwWBIWnG/uHEQKGyJ4oR4AIAS/wmxEckd0CiFDwENkT5QgQIeAFfjOCI7JbABEKHiJ7ohwBIgS8wG9GcER2CyBCwUNkT5QjQISAF/jNCI7IbgFEKHiI7IlyBIgQ8AK/GcER2S2ACAUPkT1RjgARAl7gNyM4IrsFEKHgIbInyhEgQsALJ/5mDp8w0Lfru333IX0H+THQefn7U1x76vKn6fw3ztoKsa3jWlFVuys2VhRZseVEEabo2kobr9NT0oraDSbzmE+oP38zIbfJkTMcrOxuuTLklNyVn+1XpuqddTaIkBOIEPDCWb+ZkZFnk2dvfu7FyB/u/0RS+q7dkUjlH36stVgsxp7vBm4/sPec5AyVtRcZ6YbO6/Tt6W1QVdfl+4bK0Hnd3q9mo2/skUjlmrxai8WyVqVz0PF0RFZsOVGEc5alSqRy3akrVIpEKp/+9qfG/uHShmvFX347hnNKpPKo3dWMxKN1puPN3/H5+NE608SAyFRdm+O5K2m4KpHKlygOGfuH18aVOuh4iJATiBDwwlm/mYa2PolUXlXXRaWYHz2RSOV91+5YLJaRkWd//ig76N3dLcar7M8ae76rrL3IjtyjZ4kI6ZGpq5dI5XOXJ/N0YejGXIlUfvuuozvLExGS7Nwfevz869Fvr9rrlAqiyIotZ4mwqnVAIpVHJf+XtKYFqzRF7eTvMFWx75uxu7Wt7M+WNlxL0bVxhkQqj0k/Q0/Zmdvk46eYMmcrTxeuiy+XSOUHKrqcIkKSHYPJPFOWNDUwprZjECJ0IhAh4IWzfjNhyvzQjbmMRMocFotlZOTZ3OXJEqm8reMa47D7Q4/PNPfeGvwbI1o7rkmkcnY6iZ8e/8Lnwi72DkzwV3CK0AO7jaYAACAASURBVNR/l38GSfWUyk5VXZdEKr/YO8D/DNYQWbHlLBFuSKz0nRfLqCQFhKgpERr7h5dt0kqk8vicBsZnDSZziq7tpOGv7JBI5Qcruznfquu8y+fCGi796OOnOFTZzX7rePN3dtXqKBEa+4eP1pkkUjmn1yHCMQMRAl445Tfz/a0HdElQMBLvDz2e4K8409xr7Tzvbcjp7rtpQ4SNhm9Cwvcx6mE/Pf7FmixJ9F27w05sNHwzwV8REXeEZx4ZIrRYLKV645qYgoa2Pp5nsIbIii2niNBgMk+aFUV3HqcIDSaz77zYaE2NtfP8KTI/v/qyDREeOWN6aXEiox7WcmWI05RUlDRcZSceOWOaMmfrTFkSfxfSRWjsH07Vta2NK92RVQ8ROguIEPDCKb8ZVUoFp1HYdjT13/316T+snUcilbd2XLMhwqNV7ZNnb+4fuEf/1P2hxzs0lXkl59iNq9Pnb1+r0nG2u1LxzfVBcp68knOb1cesxYcfa0mXJ5Xy1qq9Eql8gr/CQReKrNhyigh3ZNUHhKjZ6QwRGvuHjzd/19h9z9p5AkLUO3ObbIjwYGW3RCrPq+phaDhi1wllqp7dsvrqu3tefXePtXZXEgX6r8l59hQaQpWFNkIilc9dmUa9nB+WKZHKJVK5gy4U2RPlCBAh4IXjvxlSz3t/Sx59yCiBLUJD53XfN1TsIzmPJ5Uw+gH6xp7Xlibxv7bp87dnFNTzPPjXp/+w3dwqkcovm27x/3aeiKzYclyEpJ43U5bEGDJqTYRTA2MKa/qsiZBxvEQqL2m4Sr0kHXX8r23Bh9nLNmn5Z8R2c2tAiNop424gQmtAhIAXjv9m1JnVpPPv+OnO5JyaJWszqToTqULNXZ78wsI4eu1KnVnNeSpGlYtUwugflMkz7RIhY/yOg0ikcr1j0zk48ehi69aDJ4wUx0WYmH9upixJIpVHJlYl5p97eWkKVWeaNCtq7sq0uSvTJs2KoletVn1c1NTDUS8MCFHTq1ykErZ4/UHq5eL1B+0SYUCImjF+x5EICFErU/UQoeuACAEvHPzNfH/rge8bqsumW+zKH9WpllFQz7Mrzrk1QjJs9UL3DUZ6/8A9G82zbKj662tLk7Rlrfw/yBOPLrbii3vii3voOnRQhAaTeWpgDBkyyu4jJImaonbOhlNO0zi3RjgtWJWYf46RWNsxqG+/yf8ktR2DpB9x2SZtmKoYInQdECHghYO/mTBl/mXTLfZAEstvGrt996FQIrzQfYNRxSQxwV/xUkiC+RGzKvPgb8PsMTXdfTeffz1alVJhsVhCN+Zaq8s6gkcXW//69//UdQ1+kG4oqO//5e/PLA6LcF18OVGXNREeqOgSSoQNl35k9OqRmDJn65Q5W+mnJdHYfY89pqas6fpMWdK89/cZTOZ18eULPsyGCF0HRAh44chvpqquizQVcorwTHMv0ZhdIhy1aXTGwjiel6cta50+fzsjcWTkmUQq11W0sY8ng26sTWG8ffehKqVi8Rrn7yYvgmLrl78/y6+7/kG6oaH7riMiPFpnopoK2SIsP9tPNGaXCEdtGp00K0p/nld97kBFl0Qqb7j0IyPdf2HCB9uPsY83mMzhsaXWpjCWNlzbkVU/aVYUROg6IELAC0d+M+U1HeQPThFqy1pJ7Y2/CP+y+RC9osaoEabl16kzq7v7bvK8vIi4I9GflTESyTnZ7aWchzESS/XGybM38/x2/ixQlsh2nRVNvLPti6+uPx5bCf7Z5y3U32wREg8Z+4f5i3DZJm1V6wA9hV4jTMw/tzL6cH71ZZ4THpSp+jnLUtnpEqmc3V7KeRij1qg92SuRynlqGCIcAxAh4IVTfjOcItyUULwpodhijwg5T0tvpUzLr5NI5c+9GHmk8rztz46MPOOc2EDqqaMuNMMpQp4StRcRFFsjz/5d2jKwck9ractA0JoMp5TmbBFGa2pmypLsEiHnaanpE2VN17dl1D73/zb5+Ckidp0YVYcBIeptGbWMRFJP5bPQDFuEBpPZx0/BR6IQ4diACAEvXCfC6fO3k6Elo4owPr2Kmpk3ff52EpNnb54+fzsZg5pRUF9Ze5HMtf/p8S9xmkqJVH623WTjnBWnO59/PZq9BFqp3jjBX8EzR+z0FxbGOb2b0NOLrba+e2sy2tOqvrn/6KnFeSvLsEW44MNsMrRkVBF+knaatHwGr0ibFqwiMWlW1LRgFRmDGrHrRIqujcy1b+y+ty2j1sdPYXv2XmFNn4+fglG/NP5Wqys/2z8GERr7h9+R5zi9m9DTnygnAhECXrhIhNRIGQsPER4+YSDT3inVWSyWn588/Wz/KWvDO2vPfc1eyIbOCwvjOEd4puXX8RluY02EyTk1k2dvpvvV/OjJ97fsXk+cjkcXW3tO9G3J6zTdfkSluEiEpPJEKl6jivBARdfCNft35jYR1VGT+SKTqqwN7yys6bNdq3tHnsM5wjNV18ZzuA2nCHdrWyVSOcOvY1tPHCJkAxECXrhIhMk5NWHKfPI3W4T6xh6GxiiXZB9ujNNUkgW19Y09z78eTc1h//XpP35+8jQi7oi1+fgUpHuSc0XstSodn3Zatgh/ffqPX5/+gywmd+hYM5V+2XTLwcmFHl1s3fhh+F///h96iotEuFvb6jsvlvzNFiEZQUNPabj0IxnVoilq/1NkPllQm+wdkV3aSY4hWyCFKgvZM/fZZp00K4pzReyo5Gqe7bQMERpM5sbue2Qxub98UkRPd3ByoUc/Uc4FIgS8cIUIzY+eTPBXUAJji7CqroshQqq9MaOg/ver0yiHhW7M/fNH2eRv4pvLplvPvRhJVxEDcoC1JWBmL1Gn5dfxzNHdez+dae6NiDvyUezhE2cukuqpKqWCnjt9Y483i5CNi0ToOy+WWoSFLcKjdSaGCBPzzxHraIrapwWrKIetiy+fMmcrdR5j/3Btx+CUOVvDY0us9RGSA9hzOUjIIvJkEXk8c5T/Rc/+8ovhsaWLPzq4PbOOLA63I6uentmShqsQobOACAEvXCFCVUoFXTZsEWYU1NNFdX/oMTUak3HwZdMtasALlU52fjh8wsC+kvtDj33fUFkz0+27D0dda4asaPrhx9oJ/oolazObzn/DaJ41P3ry/OvRz78eTSqmGQX1ECEdV4hwR1Y9XTZsEWqK2ulrlRlM5oAQNSVC+sG1HYPqg2fJ38u36Ij8yM4P4bEl7MsgGyTZWNd70qwo22vN1Fy4va/4Apm58fLSlOSCNvbiqDNlST5+CrJQnKaoHSJ0FhAh4IXTRahv7PnzR9n0ZsmMgvoF72voxy9V7KdMSbZnovrtMgrq16p0nN8ye4m6qKqd/L14TUbF6U7GAfeHHr/yx12MbXhTck+3d/UTmZFBp5xDRrv7bk6fv50seUz8Z2OvQVLpnOCvOHSs+YPoz0v1RmtH8kFkxZbTRXi0zjRj0U56s6SmqH3SrCh6BW5tXCndlMs2aX38FOQATVG7/8IEzq+QReStiy8nh4WpijckVrItOO/9fYxRnR9ravaXXyQyIx2EnJ2LTT33pgWrfPwUEqn8pcWJyQVtNjajr+0YnBoYQ2S8PqFiXXw5ROgUIELAC+eK8LLp1nsbchgKaeu4NsFfQUaBTp+/3fcNlUQqp3a1vX334ewlaqrapy1rneCvYG/+sOiDdIlUHqepJIexB9Fc7B1YsjaT3X04MvLs0LFmYjiJVM7eNJEiIu5Ick4Nz20O+wfuvfLHXeScDo4jFVmx5VwR1nYMvvbeXkbnnP78zYkBkRMDIqkRoRKpnL6r7ctLU6ghoGT2oSwij7EczMI1+yVS+bz391HOYzSN6ttvBq9I41zOO62onRhOIpWzN02kQpmqX75FV9XGHGhqzYVvrc4i53RwHKnInihHgAgBL5wlwlf+uKvFePWz/ac4K1LsLQOtnWpk5NmZ5l7O/ZLu3vvJ2qd2ZZ08zqog0inVG597MTJOU2nXKqOjcqqxJ+jd3S/wXuyGE5EVW84S4dTAmNzKS6HKQs6KFHvLQBuzAPeXX+TcL6msyeoYmU8PNERramycU3uy18dP8afIfLtWGR01dKeuBK9I8/FTsNevgQjHAEQIeOGU3wyR34O/DTt+KhcxMvLMRlOngzgoV5EVW87amNfYP8xzy3ihwkZTp+PZt2une4jQGhAh4AV+M4IjslvgrBohAiJ0HIgQ8AK/GcER2S2ACAUPkT1RjgARAl7gNyM4IrsFEKHgIbInyhEgQsAL/GYER2S3ACIUPET2RDkCRAh4gd+M4IjsFkCEgofInihHgAgBL/CbERyR3QKIUPAQ2RPlCBAh4AV+M4IjslsAEQoeInuiHAEiBLzAb0ZwRHYLIELBQ2RPlCNAhIAXq2ILg8LTEQLGqthCoZ8CZyLbfEjwf1IvD9nmQ0I/Be4CRAgAAPah1JwICk+PTC4X+kKAc4AIAQDADh79/PQNeQapVD0w/yz05QAnABECAIAd1LReoVoXj5xyaGst4CZAhAAAYAdRe44HhacrPisNCk9fs/Oo0JcDnABECAAAfHlg/jkoPP0Necbg/Z/mr88KCk8fvG912y/gKUCEAADAl+MNl4LC05WaExaLZcd+PVpHxQFECAAAfIlMLg8KT69pvWKxWM51XQ8KT1+xTSf0RQFHgQgBAIAXP/7tMWkXffTzU4vFMvLPZwsi9geFp9+49UDoSwMOARECAAAvjpwyBoWnqzKrqZSkz2uDwtO1X7QLeFXAcSBCAADgxZqdR4PC0+u/+pZKMXTfQOuoCIAIAQBgdAbv/xQUnj5/fdbTv49QiSP/fLY4KjcoPP3r/kEBrw04CEQIAACjozv5VVB4+o79ekb6nsMNQeHp+0tbBLkq4BQgQgAAGJ0V23RB4ennuq4z0rtMt4LC05dG5wtyVcApQIQAADAKN249CApPXxCxf+Sfzxhv/etf/0brqKcDEQIAwChov2gPCk9P+ryW892MY81B4el7DjeM81UBZwERAgDAKPDZj3NxVK7QlwnGCEQIAACjQDYgpMfvY06E7Kihp0TtOS70ZYIxAhECAIDdvJt8TrbrrNBXAZwDRAgAAHYDEYoJiBAAAOwGIhQTECEAANgNRCgmIEIAALAbiFBMQIQAAGA3EKGYgAgBAMBuIEIxARECAIDdQIRiAiIEAAC7gQjFBEQIAAB2AxGKCYgQAADsBiIUExAhAADYDUQoJiBCAACwG4hQTECEAABgNxChmIAIAQDAbiBCMQERAgCA3UCEYgIiBAAAu4EIxQRECAAAdgMRigmIEAAA7AYiFBMQIQAA2A1EKCYgQgAAsBuIUExAhAAAYDcQoZiACAEAwG4gQjEBEQIAgN1AhGICIgQAALuBCMUERAgAAHYDEYoJiBAAAOwGIhQTECEAANgNRCgmIEIAALAbiFBMQIQAAGA3EKGYgAgBAMBuIEIxARECAIDdQIRiAiIEAAC7gQjFBEQIAAB2AxGKCYgQAADsBiIUExAhAADYDUQoJiBCAACwG4hQTECEAABgNxChmIAIARADbX33SlsGRBwpFVdiD3e7T/wpsVm266xzz7n/1LeC/zuPZ9R1DQr9u/kPECEAYkC266zg5ZpLw+nWcTB2Fl9OPe5MN2/J71yX/ZXg/87jGSv3tN5/9FTon47FAhECIA5E30wn+gz23fwprqhb6KsYV9ZlfQURAgCchug9IfoMQoQCAhECIAZE7wnRZxAiFBCIEAAxIHpPiD6DEKGAQIQAiAHRe0L0GYQIBQQiBEAMiN4Tos8gRCggECEAYkD0nhB9BiFCAYEIARADoveE6DMIEQoIRAiAGBC9J0SfQYhQQCBCAMSA6D0h+gxChAICEQIgBkTvCdFnECIUEIgQADEgek+IPoMQoYBAhACIAdF7QvQZhAgFBCIEQAyI3hOizyBEKCAQIQBiQPSeEH0GIUIBgQgBEAOi94ToMwgRCghECIAYEL0nRJ9BiFBAIEIAxIDoPSH6DEKEAgIRAiAGRO8J0WcQIhQQiBAAMSB6T4g+gxChgECEAIgB0XtC9BmECAUEIgRADIjeE6LPIEQoIBAhAGJA9J4QfQYhQgGBCAEQA6L3hOgzCBEKCEQIgBgQvSdEn0GIUEAgQgDEgOg9IfoMQoQCAhECIAZE7wnRZxAiFBCIEAAxIHpPiD6DEKGAQIQAiAHRe0L0GYQIBQQiBEAMiN4Tos8gRCggECEAYkD0nhB9BiFCAYEIARADoveE6DMIEQoIRAiAGBC9J0SfQYhQQCBCAMSA6D0h+gxChAICEQIgBkTvCdFnECIUEIgQADEgek+IPoMQoYBAhACIAdF7QvQZhAgFBCIEQAyI3hOizyBEKCAQIQDjwcptuqDwdNfFAmWJS88fFJ6+cpsOGXRdzF23/61NhQJmkM2q2P+9Ht3Jr0ii7uRXzkrc8XnbL39/5txz0hNXxRbyzClECMB4EBSebuwf9ugICk9HBj06bGeQDSUVD4V/fiFCAMYD0RejyKD7h70i9HQgQgDcC9EXo8ig+4e3iZB/jRYiBGA8EH0xigy6f3hb0yh/IEIAxgPRF6PIoPuHvSL0nhokRAjAeCD6YtTeDO7MbdKdusJOf2t1VmnjdZ4n2ZJysuXKEDt9ZfTh483fCZvBxPxznBnZrW1NzD/H5wwGk9lgMlt7V99+07kZ5MyyXce7G2gaBcC9gAgZoUzV+86Lre0YpAp9Y/9w+dl+iVQet7+e50mO1pkmzYrKq+qhJ1a1Dkik8pcWJzb33hcwgwaTeaYsaUNiJSN9zrLUiQGR+dWXRz1D+dn+qYExO3ObUnRtjFi97djEgEjtyV4nZpAzy3Yd725gsAwA7gVE2HJl6KThr1SsT6j4w/pc8veyTdqZsiSDyZyYf853Xiz9U7Udg0frTDZOuy6+3MdPUdJwlZ6ybJPWRl3KRRlkh/Zkr0Qqj9bU0FOmzNnKvzInkcoPVnbT/91I7MxtkkjlnLXhMWeQjaf3EUKEALgXEKHBZE4uaNtXfIEtQhKN3fcWfJg9U5YUqiykYmpgzJQ5W224kNT/DlV2k5e1HYOvLE0ZgwUdzyBnzFmWGh5bQr18R55j2+uMkEjldMdToSlql0jlzs2g+IAIAXAvIEISuZWXiKWUqfplm7TG/mGDybwto9bYP6w/f9PHT1HVOkCOPFpnkkjlDZd+ZJ/EYDK/tTqrrOk6MWjuiS7Kpn/5pKio9hvytzJVv3yLjr8UnSXC8NiS/WUXyTUcquyubPme/L1b2xqb+SX5O/+LnpcWJ47akQkROgL6CAFwLyBCEgEh6sXrD4YqC2fKknznxYYqCxevP+jjpzhU2a1M1W/PrNuR9Z8Owm0ZtQEhahuGkMeX07vNpgWrGCmyiLyAEDX/dkhniXDZJu2r7+5hXAkjJSb9jEQqz628ZPtUworQ05tG+QMRAjAeQIQkAkLUpGSnaoQlDVcDQtQGk5m8XBl9mNTh5ixLJTVFa4bQFLUzzsxIob5iPDNo7B9etknL+F72lZQ0XOVjMmFF6D01SIgQgPEAIiQREKImoz+oPsKDld3TglXqg2fJCNLs0k5lql57stfHT8HZLkoZwktEaGOwjHPvIGeW7Tre3UDTKADuBURIIiBEHZN+JmLXCYlU/vLSFNJI+NLiRPoxfgsTpr/9qTJVb9sQsoi8jZ99QcWUOVsZKcEr0oQS4YxFOxlXwkgJUxWParKGSz9KpPKY9DPs6RPy+HKIcFQwWAYA9wIiJNHYfa+2YzAgRD1TlvRmWMbLS1OUqXr6NACDySyLyBu1/8wbaoQlDVeDV6Tpz3P0cepOXeEzE9GuDLLx9D5CiBAA9wIiJNFyZWimLCkx/xxxA3n5jjyHvKtvvzlj0c7w2JKMY0YfP8XK6MPWpsqJWITsYa708T7UEgSc7zqSQfEBEQLgXkCEpMgOXpFGFoKh3FDVOiCPL2+5MrQhsXLx+oPUsmSFNX1T5mz18VMEr0hjGM4oahEu36LbkFhJtYLuzG3y8VOsiy8n75LVaujNpFPmbJ33/j7HMyg+0EcIgHsBEabq2qJ2V1PVna17T+0vu2jsH65qHdiQWBmtqanrvEsdbDCZA0P37i+7uDL68Cdpp9ln4zl9QigR8pw+Ye3jjMumLzsXEKJm9J4GhKgjE6sczyAbT28a5Q9ECMB44IgIy8/2b8uoHdtqKZyRomsr/vLb2o5Bu9bocsQTDZd+JN91rP7qTFlSYOheeryyNGVasIqeMlOWNC1Y9bv5O47Vc0weMJjMvm/GMtbsZtcIjzd/R/7ReGbTWSJcvkUXk36GnsKuETZc+pE0abKvjVOEVNYWfJjNFqHtgUU8M8iZZbuOp9P77e2RkWf0FG1Z650fHtr+1K9P/2HtrVE/6wgQIQDjgSMiJGusKNQnRj2SpyyVqfpJs6KON3/3ytKUiF0neH7KdbsU8ZxLYDvYIiRRWNM3MSAyu7RTwAxaa6QlXaRhqmJ6om0RLtuk9QgR9l27M2Nh3MXeASpl8uzN67cX/vzkqY1PTZ69Oa/kXGXtRUZk6uon+CsqTnfadQ1oGgXAvXCkGCWzp9m6WhdfzigBo3ZX79a28imXyaItVa0DPn4KajGX8fTEsk1a0jRqZInQYDIvURwqrOljfKSy5ftXlqYwapNUTAyI9F+YwE7/3fwdpHLJueuTEzO4bJPW2rVNC1ZNflnJTg8IUU8LVk0LVm3do6efx1NE+PaqvXRdbUs9/uePsqmKoDqzeoK/4vbdhxaLpaGtb+7yZEYdkc1rS5OOVrXfGvwbI1o7rkmkcrpWnXL9FBAhAOMBH0+sT6j43fwdnEX5xIBIzubEacGqg7+tN00UEhCinvf+PttNgpQIjf3D8vjytKJ2PpVC54owIERNdf4REVJz7NbFl4cqC1d9XNTUc8+uE3LWCPnH+NcIOcN9RDhqjUoilbd2XKN0tSvr5PY9xynbfX/rwQR/hfnRE4vFsimhuO/aHYvFYn70xEb752tLk/SNPez0vmt3JFI5OQN/IEIA3AtHitEwVfHyLTqeB2eXdpJ1uWo7BpWp+rdWZ7GnY8si8qYFq+iDEvns2OB0EVKFu0ubRvmH+4iQsS8HXYSyiLz1CRX0d/0XJrhIhKPCkFNGQX1GQf3ZdtN7G3JIHbGgvJX8sTLqIPkjTJnv+4bq6nc/cJ4QIgRAzNhVjGqK2umVuQUfZtP3tDP2D0fsOmFj4wKyXOe2jFp6zY9RLttYz3p8PMFHhAaTOY232ybNinJbEYapip0lwoAQtbuJ8Exzb0ZB/cjIMyLCvmt3XluaRB2jb+yJiDtCvcwoqF+r0lk7oXNFiD5CANwLu4rRZZu0Ly1OpJoKV31ctC6+nL5Al0Qqt11HLGm4qilqdysR6s/ftDbbgcwlYNdc35HnSKRyagqd7WDPLBznDNq+oY40jU4MiKQ6ODmnT8Rmful4BtnwaRrtu3ZH39gzff52hggvdN9QJpaMjDyjRNjQ1rcmpiAtv47uRQbOFSF/IEIAxgN7RWi73By10N+QWNlw6UciPPrW8DNlSam6NoYIqTnsrvYEtSuvvcGnC9PHT5Giaxuzq5ySQRs39E+R+TwPjkk/c/j0fw0Uomdfd+oK41+D/xwYpw+WoURIqoCMGmFE3JE/f5RNiTB0Yy45wLYIbQyWgQgB8GzGWYSrPi4y/lbzM5jM2zPr6DWtaE0NJULtyV6JVK7aZ3XDo3HwhFPCrjmR45xBx6/NKTHOItQ39jz/ejQR4ZnmXm1ZKznGhginz9++M6OaPX0i9+hZNI0C4PHYK0LO0fZU2BZhdmknmRFhrQlUU9ROpa+LL580K4pPSe3mInS1J0SfQc4s2z7AtghHRp71D9wjIuwfuEc+YluEQe/u7rz8PTv99t2Hpxp7Rp19Ye/1/29G7DovAGBsjGeN8B15DtmygIiw/Gy/MlVP2tPyqnqiNTWaovZJs6LIwZNmRTllqIXoPSH6DLLh30dIF+Fl063nX4/ec+gMCXVm9bbU49TLJWszGSJk642+iMz9oceMd+8PPeZpRIgQAPdi3ERINnwnfytT9bKIPDImk5o4EbRCU1jTR0ZpZpd22t7/Fp7wngyOAUqEi9dkWH4TYVvHtVK90dpHLnTf+OnxL/SUjIJ6ZWIJvSH0+dejw5T5xHYRcUcY785dnvxSSAKZnmgbiBAA98JeEfrOiw1VFloLThHuK74w64+f0Wt4y7folm/RGUxmanKCMlVPaodkruGCD7N5jsmEJ0SfwTFARFhV10UqeVSz59Xvfjh+upM95iWjoJ7tyIyCevp0C4vF8trSpO17jpO/I+KOMGqQEXFHPoj+nM/loY8QAPdifGqEVa0DEqn8QEUXeTlTlkQmIDJEaOwf9l+YsDaulH910LmeiEk/U/zlt6MeZjCZbYxojdbUNHbbsfTMeGaQ/FPTh3dqT/ZWtQ04cnmffd7Cc3zv2DLIhmfTaEZB/aaEYovF8nlpC5n8QGY7sMe8/H51WvRnZYyTcIowo6Ce/K3OrGaL0EYv49iACAEYD8ataZRU9YhFfPwU2pO9Ri4RLt+ik0jljHn64+aJZZu0U+ZsLT/bb+2Aus672zPrpgbG+PgpjtaZOI8JCFHPWLSzufe+I25wUQbJ+j6/X7OfSlGm6iVSeXJBm7F/OLO0YwzjSJWp+ilztrI3rOe/5oDTB8sk59SMjDxbq9Jpy1pjksup/jwiQvbxEXFH2NMEbYuQPbgGIgTAU7HXE4y1RRhhTYQNl36kRHigomtasMr4mx3JB9cnVBARro0rlUjlVHFc2zE4atXQuSKkm76k4eoSxaGypus7c5tkEXn+CxP8FyaEKguVqfoUXRtjUh0V/NfYdIon7MrgXz4pmjQrir6bfGL+Oarv9midaWpgzJ8i8zk3l9975Dx7bQHOTQ3tXXPARbtPTJ+/ve/aHTJG5rLpluU3EbKbRj+I/nw8U8ltXAAACMpJREFURYimUQDci/ER4YGKLolUvq/4AimLiScYg2UU6hNH60wTAyKnzNlKiWRHVv14rjXKECHpszxY2U3fm3fUYIvQWhbGeT/Chks/+vgpEvPP0RPpU1aIC338FFPmbGV//PDpvvzqy+ybvj6hwsZT4fiy6ZxZHvWYC903FryvIX+rUiqefz3a/OiJjabR7MONjDO4ToQYLAOAe+G6plF6Cbiv+AJ5q7ZjcGpgDKnklTRcnbFoJ6UEUh3JLu3cV3yBanhc8GH2uHmCnsHDp/uIpaiKLP+gREh5TpmqXxl9mFFnWr3t2JQ5W20szer0DG7LqGVP32SI0Ng/nJh/zsdPYe0k+4ovbEistC3CdfHlTmzcZsOnRkVv7ST+0zf22GgapQxHkVFQP3uJml5xnL1ETR2Wll/3QfTnjGolRAiAR+IKERpM5uVbdIwj95dfrO0YDFMVc1YZj9aZZizaSW31t2yTdmJAZF5Vj40S2VmeUKbqqVGvvvNiybBYHz/FTFlSy5UhniJkLDa9PqGirOn69Lc/JSuvKlP1/gsT2BWpacGqcVsxwGAyT5mzlf2PzxahsX+4+MtvrdXkNEXtjLywRfiH9bkLPszmua/yGEQ4KpdNtxgraL+3Ief7Ww+cKEIyRhQiBEAMjFqMhqmK31qd9d7mgsDQvaSTzMbKMtOCVTNlSTNlSWRLwp25TfRTaU/2cnaeZRwz/n7NfroSDCZzmKpYIpXz2QXJQU/Qv5dzyz0+IjxY2V3WdJ0uQnrbIOdKOvxXGHeKCBPzz0mk8m0ZtQw/cYpwXXz5sk1aTpOxj2fv5cTem3A8RTgy8uy9DTnsCe+W36qGm9XHGPHCwjhOETKaRucuT66svUj+5pw+EZNczucK0UcIgHsxbrPQajsGN372BTt9c3J1buUlzo/kVl7yX5hgYwynEz1BleA8Ragpamd0tlHB7iMUXIQGk9l3XuxMWdKkWVHFX347d2WaLCKPVILnrkybNCsqVFk4aVbU3JVp9FmhewoNnBknx1MxU5bEmF3qOy/WpSK0LZKdGdWcFrRYLFe/++HQsWZ2etfXA+xFYSprL9a1fE1PoR/T9fUAYyNfG/v6jhmIEIDxYNxEyL+hzN5wkQipPsIwVTG1z9SaHaWrPi6Sx5f/bv6OacGqzNIO9kncUIQ7surDVMW2L4PnBsLuUCO0fbwrhCQUECEA44Ho1yUZgwjzqy+/I8/ZrW0l41rpNUI+9iIibLkylFbUvjL6sLVPjZsIazsGX1maYqOFNmiFxigiEbo/aBoFwL2ACKmoaht49d09EwMiqY60MYiw5cqQ/8KEqYExwSvSqEVqhBVhmKqYTBzk/EZqWBN/EfJpGlWoTzjrDnJm2a7j3Q0MlgHAvYAIy5quK1P1vm/GkimM9MoNmf5Ib9S1Zq+6zrvJBW3BK9IkUrmPnyIysYr+roAiPHLGRK2Aw/mNQSs0pPbGU4RZZZ2MqRH0GuFp453lW3SfpJ22a+alK6ZPuDMQIQDuBUS44MNsHz8FacxkDJZJzD9HLYJjwyVkKIqPn2Jl9OHG7ntu2Edo4xt9/BRkoQOeIuQ8LX36xP7yi29/kCWRyunzYRzJoPiACAFwLyDC2o5BalY7Q4RhqmJG75c1ex2o6KpovkH+9iARak/2SqRyskyobRGWNV2nWj7J3JhpwarJLyunBsZMC1aRMag7c5tSdG1Eh/r2mzMW7aR2l3Qkg+IDfYQAuBcQIT0YIgwIUTPmSPAfLDPqp9xBhNRIGSOPGuGfIvMjdp2gVEdajA9Wdu/WtnIebzCZt2XUOp5BNp7eNMofiBCA8QAipAddhFWtA+zdoEQmQt95sZTG2CJkj/ysav3Phk1vrc5K+G21hGWbtPPe30f1pLZcGdpffpGx2ZMjGeTMsl3Hey4QIQDjAURID7oIlan6v3xSNKpL2OEpItytbQ0IUVO6YoswKrmacQZqN4mAEPUnaafJ37Udgz5+ivicBvKSnESZqp8aGOOiPkJPFyGaRgFwLyBCelAiJCtzUhUgay7hDE4RMqYckFkHAoqQZJC+pSJbhLKIPPrLVF0b9b8ExsHqg2fJDI3ys/2UPmUReT5+CvY+hfZmkDPLdh3vbmCwDADuBURo7B/eV3zhpOGvdZ133wzLIGX9jqx6zinh1kTYcmWo5sJtIphpwSqeNUI+S4o7JYPsy1i2Sbsjq57+bkCImt6lV9sxKJHKKVOS7ZmofAWEqFN1beyvOFpnmjJnK9mwvqp1YGJA5KjbSY6aQTae3kcIEQLgXkCExv7hxu57K6MPkzW+t2XU1nYMkl0jbLuEHgaTebe2dWpgDDnJgYquUT9Fqonjk0HGZShT9QwLGvuH5fHlEqmcjAKdFqyaNCtKIpVTUwZTdG0vL02hdvQNWqGZ/vanjDpuqLJwamCMj5+Cyr5TNlwUHxAhAO4FREhFVHL1EsWhlitD8vhyawM9lKn6wNC91s7QcmUoIETNlmjxl9+ylaBvv8lzOIkTRSiPL1ftq804ZuQ8oObCbfpuSjYmxevbb3LuVr+//GJj9z3n3kHxgT5CANwLiJAdNvw0ahWHZx1IkAwaTGaDyTwGUQl7B9l4etMofyBCAMYDiND9w8szyJllu473XCBCAMYD0RejyKD7h7eJEE2jALgXoi9GkUH3D28TIQbLAOBeiL4YRQbdP7ytjxAiBMC9EH0xigy6f3h6Dc9eIEIA3AvZ5kNB4ekeHbLNh8SdwZXbdDYyuHKbTvArdGkGOdGd/Ir6OFVB9JTEtKImntmECAEAAHg1ECEAAACvBiIEAADg1UCEAAAAvBqIEAAAgFcDEQIAAPBqIEIAAABeDUQIAADAq4EIAQAAeDUQIQAAAK8GIgQAAODVQIQAAAC8GogQAACAVwMRAgAA8GogQgAAAF4NRAgAAMCrgQgBAAB4NRAhAAAArwYiBAAA4NVAhAAAALwaiBAAAIBXAxECAADwaiBCAAAAXg1ECAAAwKuBCAEAAHg1/x8YOhSNIoqe0AAAAABJRU5ErkJggg==" alt=""><br></p><p><br></p><p><br></p><p>部分代码：</p><p><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_4_3473163" name="code" class="java">public TotalPromotionResultDto calcPromotion(long providerId, long cityId, long zoneId, int customerId,
			Map&lt;Integer, Integer&gt; selectedGoods, PurchaseFunction functionEntry, long platformId) {
		
		
		//根据开始时间从小到大排序
		List&lt;PromotionActivity&gt; activityList = selectPromotionActivities(providerId, cityId, zoneId,customerId,selectedGoods, functionEntry,
				platformId);
		logger.debug(&quot;acquire promotion activity. list.size:{}&quot;, activityList.size());
		if(activityList.size()==0||null==activityList){
			return null;
		}
		
		List&lt;PromotionResultDto&gt; results = new ArrayList&lt;PromotionResultDto&gt;();
		List&lt;PromotionResultDto&gt; result = new ArrayList&lt;PromotionResultDto&gt;();
		TotalPromotionResultDto totalPromotionResultDto=new TotalPromotionResultDto();
		int amount=0;
		for (PromotionActivity item : activityList) {
			PromotionActivity pa=promotionActivitySbo.loadPromotionActivityById(item.getId());
			// 商品id和对应杯数 或者 类别id和对应杯数
			Map&lt;Integer, Integer&gt; goods=ProductType(selectedGoods,item);
			//订单总金额（分）
			int orderAmount=getTotalAmount(selectedGoods);
			List&lt;ProductDetail&gt; list=mapToList(selectedGoods);
			PromotionResultDto pr = pa.calculatePromotionResult(goods,item.getRepeatTimes(),pa,orderAmount,list);
			logger.debug(&quot;calculate promotion activity. activityId:{}, amount:{}&quot;, pr.getId(), pr.getAmount());
			//如果优惠金额相同，再找开始时间最近的。最终选中一个优惠金额最大的（分）
			if(pr.getAmount()&gt;amount){
				amount=pr.getAmount();
				results.add(0,pr);
			}
			//处理优惠金额大于订单总金额问题
			if(amount&gt;orderAmount){
				amount=orderAmount;
			}
		}
		
		PromotionActivity promotionActivity=promotionActivityDaoProxy.get(results.get(0).getId());
		PromotionTemplate pt=promotionTemplateDaoProxy.get(promotionActivity.getPromotionTemplate().getId());
		
		Integer isFeeFree=pt.getIncentive().getFeeFree();
		
		if(isFeeFree.equals(0)){
			totalPromotionResultDto.setFeeFree(false);
		}else{
			totalPromotionResultDto.setFeeFree(true);
		}
		result.add(0, results.get(0));
		totalPromotionResultDto.setTotalFreeAmount(amount);
		totalPromotionResultDto.setPromotionList(result);
		return totalPromotionResultDto;
		
	}
</pre><br><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_5_6363102" name="code" class="java">public PromotionActivity loadPromotionActivityById(long promotionActivityId) {
		PromotionActivity promotionActivity=promotionActivityDaoProxy.get(promotionActivityId);
		
		PromotionTemplate pt=promotionTemplateDaoProxy.get(promotionActivity.getPromotionTemplate().getId());
		
		String incentiveType=pt.getIncentive().getIncentiveType();
		long id=pt.getIncentive().getIncentiveTypeId();
		switch(incentiveType){
		case &quot;p&quot;://直减			
			promotionActivity.setRebatesEngine(orderPricecutDaoProxy.get(id));
			break;
		case &quot;o&quot;://整单折扣			
			promotionActivity.setRebatesEngine(orderDiscountDaoProxy.get(id));
			break;	
		case &quot;i&quot;://单品优惠
			promotionActivity.setRebatesEngine(itemDiscountDaoProxy.get(id));
			break;	
		}

		return promotionActivity;
	}
public void setRebatesEngine(AbstractIncentive incentive){
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; this.getPromotionTemplate().setIncentive(incentive);
&nbsp;&nbsp; &nbsp;}
</pre><br><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_6_3156736" name="code" class="java">public PromotionResultDto calculatePromotionResult(Map&lt;Integer, Integer&gt; selectedGoods,Integer repeatTimes,PromotionActivity promotionActivity,int orderAmount,List&lt;ProductDetail&gt; list) {
		
		PromotionResultDto promotionResultDto;
		promotionResultDto = this.getRebatesEngine().calculate(selectedGoods, repeatTimes,promotionActivity,orderAmount,list);
		return promotionResultDto;
	}
public AbstractIncentive getRebatesEngine(){
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return&nbsp; this.getPromotionTemplate().getIncentive();
&nbsp;&nbsp; &nbsp;}
</pre><br><p>通过这个calculate方法，会调用各自的子类的实现即直减，整单折扣或者是单品折扣。如果不理解这句话，那么接着往下看...</p><p><br></p><p>多态：</p><p>多态，是<a target="_blank" target="_blank" href="http://baike.baidu.com/view/324458.htm">面向对象的程序设计</a>语言最核心的特征。多态，意味着一个对象有着多重特征，可以在特定的情况下，表现不同的状态，从而对应着不同的属性和方法。通俗的说，同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。在运行时，可以通过指向基类的指针，来调用实现派生类中的方法。<br></p><p>从程序设计的角度而言，多态可以这样来实现</p><p><pre code_snippet_id="1592137" snippet_file_name="blog_20160229_7_9426981" name="code" class="java">public interface Parent//父类接口
{
    public void simpleCall();
}
public class Child_A implements Parent
{
    public void simpleCall();
    {
    //具体的实现细节；
    }
}
 
public class Child_B implements Parent
{
    public void simpleCall();
    {
    //具体的实现细节；
    }
}</pre><br><div class="para">//当然还可以有其他的实现</div><div class="para">然后，我们就可以看到多态所展示的特性了：</div><div class="para">Parent pa = new Child_A();</div><div class="para">pa.simpleCall()则显然是调用Child_A的方法；</div><div class="para">Parent pa = new Child_B();</div><div class="para">pa.simpleCall()则是在调用Child_B的方法。<br>所以，我们对于抽象的父类或者接口给出了我们的具体实现后，pa 可以完全不用管实现的细节，只访问我们定义的方法，就可以了。事实上，这就是多态所起的作用，可以实现<a target="_blank" target="_blank" href="http://baike.baidu.com/view/1486379.htm">控制反转</a>这在大量的J2EE<a target="_blank" target="_blank" href="http://baike.baidu.com/view/5129998.htm">轻量级框架</a>中被用到，比如Spring的依赖注入机制。</div><br><p><p><p>多态原理：当方法被调用时，无论对象是否被转换为其父类，都只有位于对象继承最末端的方法实现会被调用。也就是说它是按照其运行时类型而非编译时类型进行动态绑定调用的。</p><p><br></p><p>附</p><p><pre name="code" class="java">/**
 * 
 */
package com.lyancafe.csr.model;

import java.io.Serializable;
import java.util.Date;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;

import com.lyancafe.promotion.sbo.PromotionActivitySbo;
import com.lyancafe.promotion.sbo.PromotionResultDto;
import com.lyancafe.util.DateTimeUtil;

/**
 * @author hejingyuan
 * 
 */
public class PromotionActivity implements Serializable{
	
	public PromotionActivity() {
		super();
		this.totalTimes = new Integer(0);
		this.dayTotalTimes = new Integer(0);
		this.customerTotalTimes = new Integer(0);
		this.customerDayTotalTimes = new Integer(0);
		this.repeatTimes = new Integer(0);
	}

	@Autowired
	private PromotionActivitySbo promotionActivitySbo;

	private static final long serialVersionUID = 1L;
	
	private long id;
	
	private String name;
	
	private String balanceName;
	
	private String comments;

	private PromotionTemplate promotionTemplate;

	private OrderPlatform orderPlatform; 
	
	public OrderPlatform getOrderPlatform() {
		return orderPlatform;
	}

	public void setOrderPlatform(OrderPlatform orderPlatform) {
		this.orderPlatform = orderPlatform;
	}

	private Date startTime;
	
	private Date endTime;
	
	private String startTimeStr;

	private String endTimeStr;
	
	private Integer uniqueness;
	
	private Integer totalTimes;	
	
	private Integer dayTotalTimes;
	
	private Integer customerTotalTimes;
	
	private Integer customerDayTotalTimes;
	
	private Integer repeatTimes;

	private String regionLimitType;
	
	private String regionLimit;
	
	private Integer newCustomer;
	
	private String active = &quot;Y&quot;;
	private Integer createBy = new Integer(0);
	private Integer updateBy = new Integer(0);
	//created
	private Date created = new Date();
	//update time default it's equal created
	private Date updated = new Date();

	public String getStartTimeStr() {
		return null == startTimeStr ? DateTimeUtil.formatDateTime(startTime) : startTimeStr;
	}

	public void setStartTimeStr(String startTimeStr) {
		this.startTimeStr = startTimeStr;
	}

	public String getEndTimeStr() {
		return null == endTimeStr ? DateTimeUtil.formatDateTime(endTime) : endTimeStr;
	}

	public void setEndTimeStr(String endTimeStr) {
		this.endTimeStr = endTimeStr;
	}
	

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public String getBalanceName() {
		return balanceName;
	}

	public void setBalanceName(String balanceName) {
		this.balanceName = balanceName;
	}

	public String getComments() {
		return comments;
	}

	public void setComments(String comments) {
		this.comments = comments;
	}

	public PromotionTemplate getPromotionTemplate() {
		return promotionTemplate;
	}

	public void setPromotionTemplate(PromotionTemplate promotionTemplate) {
		this.promotionTemplate = promotionTemplate;
	}


	public Date getStartTime() {
		return startTime;
	}

	public void setStartTime(Date startTime) {
		this.startTime = startTime;
	}

	public Date getEndTime() {
		return endTime;
	}

	public void setEndTime(Date endTime) {
		this.endTime = endTime;
	}

	public Integer getUniqueness() {
		return uniqueness;
	}

	public void setUniqueness(Integer uniqueness) {
		this.uniqueness = uniqueness;
	}

	public Integer getTotalTimes() {
		return totalTimes;
	}

	public void setTotalTimes(Integer totalTimes) {
		this.totalTimes = totalTimes;
	}

	public Integer getDayTotalTimes() {
		return dayTotalTimes;
	}

	public void setDayTotalTimes(Integer dayTotalTimes) {
		this.dayTotalTimes = dayTotalTimes;
	}

	public Integer getCustomerTotalTimes() {
		return customerTotalTimes;
	}

	public void setCustomerTotalTimes(Integer customerTotalTimes) {
		this.customerTotalTimes = customerTotalTimes;
	}

	public Integer getCustomerDayTotalTimes() {
		return customerDayTotalTimes;
	}

	public void setCustomerDayTotalTimes(Integer customerDayTotalTimes) {
		this.customerDayTotalTimes = customerDayTotalTimes;
	}

	public Integer getRepeatTimes() {
		return repeatTimes;
	}

	public void setRepeatTimes(Integer repeatTimes) {
		this.repeatTimes = repeatTimes;
	}

	public String getRegionLimitType() {
		return regionLimitType;
	}

	public void setRegionLimitType(String regionLimitType) {
		this.regionLimitType = regionLimitType;
	}

	public String getRegionLimit() {
		return regionLimit;
	}

	public void setRegionLimit(String regionLimit) {
		this.regionLimit = regionLimit;
	}

	public Integer getNewCustomer() {
		return newCustomer;
	}

	public void setNewCustomer(Integer newCustomer) {
		this.newCustomer = newCustomer;
	}

	public long getId() {
		return id;
	}

	public void setId(long id) {
		this.id = id;
	}

	public String getActive() {
		return active;
	}

	public void setActive(String active) {
		this.active = active;
	}

	public Integer getCreateBy() {
		return createBy;
	}

	public void setCreateBy(Integer createBy) {
		this.createBy = createBy;
	}

	public Integer getUpdateBy() {
		return updateBy;
	}

	public void setUpdateBy(Integer updateBy) {
		this.updateBy = updateBy;
	}

	public Date getCreated() {
		return created;
	}

	public void setCreated(Date created) {
		this.created = created;
	}

	public Date getUpdated() {
		return updated;
	}

	public void setUpdated(Date updated) {
		this.updated = updated;
	}

	
	public long getIncentiveTypeId(){
		
		return this.promotionTemplate.getIncentive().getIncentiveTypeId();
	}
	
	public String getIncentiveType(){
		
		return this.promotionTemplate.getIncentive().getIncentiveType();
	}
	
	
	public void setRebatesEngine(AbstractIncentive incentive){
		
		 this.getPromotionTemplate().setIncentive(incentive);
	}
	
	public AbstractIncentive getRebatesEngine(){
		
		return  this.getPromotionTemplate().getIncentive();
	}
	
	PromotionResultDto calculatePromotionResult(Map&lt;Integer, Integer&gt; selectedGoods,Integer repeatTimes) {
		
		PromotionResultDto promotionResultDto;
		promotionResultDto = this.getRebatesEngine().calculate(selectedGoods, repeatTimes);
		return promotionResultDto;
	}
}</pre>   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/50765621'>原文链接</a>