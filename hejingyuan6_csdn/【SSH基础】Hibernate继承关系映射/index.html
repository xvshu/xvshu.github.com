<div style="color:blue" align=center>【SSH基础】Hibernate继承关系映射</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p lang="en-US" style="margin:0in 0in 0in 0.375in"><br>
</p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">继承关系大家应该都很清楚，那么对于Hibernate对于继承来说是如何映射的呢？下面就介绍一下Hibernate继承类映射到表的三种方式:<br>
</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">1、一棵继承树映射一张表。<br>
2、每个子类各自映射表。<br>
3、继承树的每个类各自映射表。<br>
</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<h1 style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">1、 一棵继承树一张表。</span></h1>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">直接上图，如下图所示。</span></p>
<p style="margin:0in; font-size:13pt"><span style="font-family:宋体; font-size:13pt"><img src="375449710398702" alt=""><br>
</span></p>
<p style="margin:0in; font-size:13pt"><span style="font-family:宋体; font-size:13pt"><br>
</span></p>
<pre name="code" class="html">&lt;hibernate-mapping package=&quot;com.bjpowernode.hibernate&quot;&gt;  
   &lt;class name=&quot;Animal&quot;  table=&quot;t_animal&quot;  lazy=&quot;false&quot;&gt;  
      &lt;id name=&quot;id&quot;&gt;   
         &lt;generator class=&quot;native&quot;/&gt;  
      &lt;/id&gt;  
       
      &lt;discriminator column=&quot;type&quot; type=&quot;string&quot;&gt;  
      &lt;/discriminator&gt;  
       
       
      &lt;property name=&quot;name&quot;/&gt;  
      &lt;property name=&quot;sex&quot;/&gt;  
       
      &lt;subclass name=&quot;Pig&quot; discriminator-value=&quot;P&quot;&gt;  
         &lt;property name=&quot;weight&quot;/&gt;  
      &lt;/subclass&gt;  
       
      &lt;subclass name=&quot;Bird&quot; discriminator-value=&quot;B&quot;&gt;  
         &lt;property name=&quot;height&quot;/&gt;  
      &lt;/subclass&gt;  
   &lt;/class&gt;  
&lt;/hibernate-mapping&gt;  </pre><br>
<p style="margin:0in"><span style="font-weight:bold"><span style="font-family:KaiTi_GB2312; font-size:24px">2、每个子类一张表。</span></span></p>
<p style="margin:0in; font-family:宋体; font-size:13pt"><span style="font-weight:bold"><br>
</span></p>
<p style="margin:0in; font-family:宋体; font-size:13pt"><span style="font-weight:bold"><img src="29703069562768" alt=""><br>
</span></p>
<p style="margin:0in 0in 0in 0.375in; font-size:12.75pt"><span style="font-family:华文中宋"><span style="font-family:宋体; font-size:17px; line-height:26px; text-indent:34.66666793823242px"><br>
</span></span></p>
<p style="margin:0in 0in 0in 0.375in; font-size:12.75pt"><span style="font-family:华文中宋"><span style="font-family:宋体; font-size:17px; line-height:26px; text-indent:34.66666793823242px"></span></span></p>
<pre name="code" class="html">&lt;!--加上package,所以不用写完整了.--&gt;  
&lt;hibernate-mapping package=&quot;com.bjpowernode.hibernate&quot;&gt;  
   &lt;class name=&quot;Animal&quot;  table=&quot;t_animal&quot;  abstract=&quot;true&quot;&gt;  
      &lt;id name=&quot;id&quot;&gt;   
         &lt;generator class=&quot;assigned&quot;/&gt;  
      &lt;/id&gt;  
                 
      &lt;property name=&quot;name&quot;/&gt;  
      &lt;property name=&quot;sex&quot;/&gt;  
       
      &lt;union-subclass name=&quot;Pig&quot; table=&quot;t_pig&quot;&gt;  
         &lt;property name=&quot;weight&quot;/&gt;  
      &lt;/union-subclass&gt;  
       
      &lt;union-subclass name=&quot;Bird&quot; table=&quot;t_bird&quot;&gt;  
         &lt;property name=&quot;height&quot;/&gt;  
      &lt;/union-subclass&gt;  
   &lt;/class&gt;  
&lt;/hibernate-mapping&gt; </pre>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">3、每个类一张表（子类&#43;父类）</span></p>
<p><br>
</p>
<p><img src="35961147343956" alt=""><br>
</p>
<p>
<p style="margin:0in 0in 0in 0.375in; font-size:12.75pt"><span style="font-family:华文中宋"><span style="font-family:宋体; font-size:17px; line-height:26px; text-indent:34.66666793823242px"></span></span></p>
<pre name="code" class="html">&lt;hibernate-mapping package=&quot;com.bjpowernode.hibernate&quot;&gt;  
  
    &lt;class name=&quot;Animal&quot;  table=&quot;t_animal&quot;  lazy=&quot;false&quot;&gt;  
        &lt;id name=&quot;id&quot;&gt;      
            &lt;generator class=&quot;native&quot;/&gt;  
        &lt;/id&gt;  
                  
        &lt;property name=&quot;name&quot;/&gt;  
        &lt;property name=&quot;sex&quot;/&gt;  
          
        &lt;joined-subclass name=&quot;Pig&quot; table=&quot;t_pig&quot;&gt;  
            &lt;!-- 将会在pig表中加上一个pid --&gt;  
            &lt;key column=&quot;pid&quot;/&gt;  
            &lt;property name=&quot;weight&quot;/&gt;  
        &lt;/joined-subclass&gt;  
                          
        &lt;joined-subclass name=&quot;Bird&quot; table=&quot;t_bird&quot;&gt;  
            &lt;!-- 将会在pig表中加上一个pid --&gt;  
            &lt;key column=&quot;bid&quot;/&gt;  
            &lt;property name=&quot;height&quot;/&gt;  
        &lt;/joined-subclass&gt;  
    &lt;/class&gt;  
&lt;/hibernate-mapping&gt;  </pre><br>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">对比：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">以上三种策略，各有优缺点：</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">单表继承。查询速度最快，效率高，但是存在冗余字段。<br>
类表继承。层次清楚，无冗余；但是如果使用自增主键方式会产生重复主键。需要使用手动分配主键。<br>
</span>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">具体表继承。层次最明了，这是优点，也是缺点，而且数据操作效率不高!</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">总结：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">上面介绍的Hibernate继承映射的3种方式，这三种方式各有优缺点，大家在使用时，可以有针对性的选择，这些映射都是Hibernate的基础知识，具体的应用还需要我们在实战中体会！</span></p>
<p>
<p style="margin:0in 0in 0in 0.375in; font-size:12.75pt"><span style="font-family:华文中宋"><span style="font-family:宋体; font-size:17px; line-height:26px; text-indent:34.66666793823242px"></span></span></p>
<h2 style="margin:0px; padding:0px; font-family:Arial; line-height:26px"><br>
</h2>
<br>
<p>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/39225759'>原文链接</a>