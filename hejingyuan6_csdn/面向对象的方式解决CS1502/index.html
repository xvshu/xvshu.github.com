<div style="color:blue" align=center>面向对象的方式解决CS1502</div><br><div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post">

<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">错误问题：</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">同一个页面内</span><span lang="zh-CN"></span><span lang="zh-CN">有</span><span lang="zh-CN">N</span><span lang="zh-CN">个</span><span lang="zh-CN">table</span><span lang="zh-CN">其中一个里面有</span><span lang="zh-CN">repeater</span><span lang="zh-CN">，对于这个</span><span lang="en-US">table</span></span></p>
<p style="margin-top:7pt; margin-bottom:0pt; line-height:18pt; color:rgb(51,51,51)">
<span style="font-family:KaiTi_GB2312; font-size:24px">不能添加runat=&quot;server&quot; 一旦添加运行就报错，其他的table都没关系</span></p>
<p style="margin-top:7pt; margin-bottom:0pt; line-height:18pt; color:rgb(51,51,51)">
<span style="font-family:KaiTi_GB2312; font-size:24px">报的错误是：编译器错误消息: CS1502: 与“System.Web.UI.HtmlControls.HtmlTableRowCollection.Add(System.Web.UI.HtmlControls.HtmlTableRow)”最匹配的重载方法具有一些无效参数</span></p>
<p style="margin-top:7pt; margin-bottom:0pt; line-height:18pt; color:rgb(51,51,51)">
<span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px">TableWeb 服务器控件与其他表元素的比较:</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">通常，表不仅用来显示表&#26684;信息，它还是在网页上&#26684;式化信息的一种方法。在</span><span lang="en-US"> Web窗体页上创建表有多种方法：</span></span></p>
<p lang="en-US" style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">1，HTML 表。您可以添加</span><span lang="en-US"> HTML &lt;table&gt;元素。如果所创建的是静态表（运行时将不在其中添加或更改内容的表），则应使用 HTML 表，且不要使用 Table 控件。</span></span></p>
<p lang="en-US" style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN" style="color:#333333">2，HtmlTable 控件。</span><span lang="zh-CN" style="color:#C00000">这是一个</span><span lang="en-US" style="color:#C00000"> &lt;table&gt;HTML 元素，已通过添加 runat=server
 属性将其转换为 HTML 服务器控件。</span><span lang="en-US" style="color:#333333">您可以在服务器代码中对该控件进行编程。</span></span></p>
<p lang="en-US" style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"></span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"></span></p>
<p>
<p style="margin:0in; color:rgb(51,51,51)">
<pre name="code" class="html"> &lt;table&gt;
       &lt;tbody&gt;
            &lt;tr&gt;
              &lt;td&gt;&lt;/td&gt;
            &lt;/tr&gt;
       &lt;/tbody&gt;
 &lt;/table&gt;</pre>
<p>
<br>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">3，Table。这是一种</span><span lang="en-US"> Web 控件，它允许您使用与其他 Web控件一致的对象模型来创建和操作表（例如，添加表行和单元&#26684;）。</span></span></p>
<br>
<pre name="code" class="html">&lt;asp:Table ID=&quot;Table1&quot; runat=&quot;server&quot;&gt;&lt;/asp:Table&gt;</pre><br>
<br>
<p style="margin:0in; color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">&nbsp;&nbsp; 通常，当您希望在运行时通过代码向表中添加行和单元&#26684;（列）时，可使用</span><span lang="en-US"> Table Web服务器控件。尽管您也可以将其用作带有预定义行和列的静态表，但在这种情况下，使用 HTML &lt;table&gt; 元素更为简单。</span></span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="en-US"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="en-US"><span style="font-family:KaiTi_GB2312; font-size:24px"></span></span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="zh-CN">&nbsp; &nbsp;<span style="font-family:KaiTi_GB2312; font-size:24px">Table Web 服务器控件比</span></span><span lang="en-US"><span style="font-family:KaiTi_GB2312; font-size:24px"> HtmlTable 控件更易于编程，因为它提供了与其他Web 服务器控件一致的、具有类型化属性的对象模型。（此模型在
 Table、TableRow 和 TableCell 控件之间也是一致的。）</span></span></p>
<p style="margin-top:7pt; margin-bottom:0pt; line-height:18pt"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN" style="color:#333333">因为需要查询界面上的</span><span lang="en-US" style="color:#333333">table</span><span lang="zh-CN" style="color:#333333">中的&#20540;，固需要添加</span><span lang="en-US">runat=server</span><span lang="zh-CN">，出现错误。</span></span></p>
<p style="margin-top:7pt; margin-bottom:0pt; line-height:18pt"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN"><br>
</span></span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;<img src="18762008987598" alt=""><br>
</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="en-US"><span style="font-family:KaiTi_GB2312; font-size:24px"></span></span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">解决方法：</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">&nbsp; &nbsp; 既然给</span><span lang="en-US">table</span><span lang="zh-CN">添加</span><span lang="en-US">runat=server</span><span lang="zh-CN">会报错，那么我们将</span><span lang="en-US">table</span><span lang="zh-CN">的父类添加</span><span lang="en-US">runat=server</span><span lang="zh-CN">在这里即</span><span lang="en-US">div</span><span lang="zh-CN">，然后取得它的子类对象，即可得到</span><span lang="en-US">table</span><span lang="zh-CN">的&#20540;（在</span><span lang="en-US">div</span><span lang="zh-CN">中通过</span><span lang="zh-CN">FindControl</span><span lang="zh-CN">发现控件这个方法取得）。</span></span></p>
<p lang="en-US" style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="en-US">html</span><span lang="zh-CN">代码：</span></span></p>
<p style="margin:0in"><span lang="zh-CN"><br>
</span></p>
<pre name="code" class="html">&lt;div class=&quot;cnt&quot; style=&quot;width:100%; height:165px; overflow:scroll;&quot; id=&quot;StuClass&quot;  runat=&quot;server&quot;&gt;
               &lt;table class=&quot;data-table history&quot; id=&quot;dtStudent&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;400px&quot; &gt;
                         &lt;tbody&gt;
                                  &lt;asp:Repeater ID=&quot;repStudent&quot; runat=&quot;server&quot;&gt;
                                       &lt;ItemTemplate&gt;
                                            &lt;tr&gt;
                                              &lt;td align=&quot;center&quot;&gt;&lt;asp:CheckBox ID=&quot;CheckBox3&quot; runat=&quot;server&quot;&gt;&lt;/asp:CheckBox&gt;&lt;/td&gt;
                                               &lt;td class=&quot;txt c&quot;&gt;
                                               &lt;%#Eval(&quot;TeacherCode&quot;) %&gt;
                                                &lt;/td&gt; 
                                                &lt;td class=&quot;txt c&quot;&gt;
                                                &lt;%#Eval(&quot;TeacherCode&quot;) %&gt;
                                                &lt;/td&gt;                                                 
                                             &lt;/tr&gt;
                                      &lt;/ItemTemplate&gt;
                               &lt;/asp:Repeater&gt;
                         &lt;/tbody&gt;
               &lt;/table&gt;
 &lt;/div&gt;
</pre><br>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="en-US"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="en-US">web</span><span lang="zh-CN">层代码：</span><br>
</span></span></p>
<p style="margin:0in; color:rgb(51,51,51)"><br>
</p>
<pre name="code" class="csharp">  protected void lbtnAdd_Click(object sender, EventArgs e)
        {
            //通过包含班级table的div找到班级table，并转换成html对象，其中StuClass为div的id值
            System.Web.UI.HtmlControls.HtmlTable dtStudent = (System.Web.UI.HtmlControls.HtmlTable)StuClass.FindControl(&quot;dtStudent&quot;);

            //班级下的学生
            DataTable dt = BindClassByStudent();
            TeaExamineeBLL TeaExamineeBLL = new BLL.Teacher.TeaExamineeBLL();
            //ArrayList arrStudentInfo = new ArrayList(); //定义某种类型的考生的集合
            DataTable dtStudentInfo = new DataTable();
            bool flagIsChecked = false;

            for (int i = 0; i &lt; dtStudent.Rows.Count - 1; i++)
            {
                CheckBox ChkBxItem = (CheckBox)dtStudent.Rows[i].FindControl(&quot;chkStu&quot;);
                if (ChkBxItem.Checked == true)
                {
                    flagIsChecked = true;
                    //退出for循环；
                    break;
                }
            }
 }
</pre><br>
<br>
<p>
<p style="margin:0in; color:rgb(51,51,51)"><span lang="en-US"><span lang="zh-CN"></span></span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">&nbsp; &nbsp; &nbsp;总结：对于这个问题已经有解决办法，但是仍然不是很明白，为什么当</span><span lang="en-US">table</span><span lang="zh-CN">包含</span><span lang="en-US">repeater</span><span lang="zh-CN">时且两个都有</span><span lang="en-US">runat</span><span lang="zh-CN">属性时，就会出错，单独使用</span><span lang="en-US">table</span><span lang="zh-CN">加</span><span lang="en-US">runat</span><span lang="zh-CN">却没有问题。而且</span><span lang="en-US">repeater</span><span lang="zh-CN">可以嵌套任何服务器控件，也不会出问题。</span></span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN">&nbsp; &nbsp; &nbsp;PS-简单理解：可能是对于</span><span lang="en-US">html</span><span lang="zh-CN">控件（加</span><span lang="en-US">runat=server</span><span lang="zh-CN">）后变成服务器控件扔不可以嵌套真正的服务器控件，不知道对不对，希望大家指点！</span></span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN"><br>
</span></span></p>
<p style="margin:0in"><span style="font-family:KaiTi_GB2312; font-size:24px"><span lang="zh-CN"><br>
</span></span></p>
<br>
   
</div><div class="ArcitleLink"><a href='http://blog.csdn.net/hejingyuan6/article/details/14230947'>原文链接</a>